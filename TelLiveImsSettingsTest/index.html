
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../TelLiveGFTRcsTest/">
      
      
        <link rel="next" href="../TelLiveLockedSimTest/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>TelLiveImsSettingsTest - ACTS Live Telephony Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tests.google.tel.live.TelLiveImsSettingsTest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ACTS Live Telephony Docs" class="md-header__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ACTS Live Telephony Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TelLiveImsSettingsTest
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ACTS Live Telephony Docs" class="md-nav__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ACTS Live Telephony Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveCBRSTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveCBRSTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveCellInfoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveCellInfoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorBaseTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorBaseTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveEmergencyTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveEmergencyTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSDDSSwitchTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSDDSSwitchTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSMessageTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSMessageTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSWfcSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSWfcSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    TelLiveImsSettingsTest
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TelLiveImsSettingsTest
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveImsSettingsTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveImsSettingsTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveImsSettingsTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_turn_off_apm" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_cellular_preferred_turn_off_apm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_turn_off_apm" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_wifi_preferred_turn_off_apm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_factory_reset_by_fastboot_wipe" class="md-nav__link">
    <span class="md-ellipsis">
      test_factory_reset_by_fastboot_wipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_ims_factory_reset" class="md-nav__link">
    <span class="md-ellipsis">
      test_ims_factory_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_wifi_connected_toggle_volte" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_enabled_wifi_connected_toggle_volte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_wfc_setup_timing" class="md-nav__link">
    <span class="md-ellipsis">
      test_wfc_setup_timing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveLockedSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveLockedSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveMobilityStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveMobilityStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoQXDMLogTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoQXDMLogTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePostflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePostflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePreflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePreflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveProjectFiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveProjectFiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRebootStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRebootStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilCstVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilCstVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilDataKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilDataKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilMessageKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilMessageKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSettingsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSettingsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmokeTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmokeTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressCallTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressCallTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressFdrTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressFdrTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceConfTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceConfTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVoiceTest
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveImsSettingsTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveImsSettingsTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveImsSettingsTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_turn_off_apm" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_cellular_preferred_turn_off_apm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_turn_off_apm" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wfc_wifi_preferred_turn_off_apm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_factory_reset_by_fastboot_wipe" class="md-nav__link">
    <span class="md-ellipsis">
      test_factory_reset_by_fastboot_wipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_ims_factory_reset" class="md-nav__link">
    <span class="md-ellipsis">
      test_ims_factory_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_volte_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_cellular_preferred_to_wifi_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_cellular_preferred_to_wifi_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_toggle_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_enabled_toggle_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_wifi_connected_toggle_volte" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_enabled_wifi_connected_toggle_volte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_wifi_preferred_to_cellular_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wfc_wifi_preferred_to_cellular_preferred
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wifi_connected_toggle_wfc" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_connected_toggle_wfc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_wfc_setup_timing" class="md-nav__link">
    <span class="md-ellipsis">
      test_wfc_setup_timing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>TelLiveImsSettingsTest</h1>

<div class="doc doc-object doc-module">



<a id="tests.google.tel.live.TelLiveImsSettingsTest"></a>
    <div class="doc doc-contents first">

      <p>Test Script for IMS Settings</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest" class="doc doc-heading">
            <code>TelLiveImsSettingsTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="acts_contrib.test_utils.tel.TelephonyBaseTest.TelephonyBaseTest">TelephonyBaseTest</span></code></p>


              <details class="quote">
                <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TelLiveImsSettingsTest</span><span class="p">(</span><span class="n">TelephonyBaseTest</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">TelephonyBaseTest</span><span class="o">.</span><span class="n">setup_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subid</span> <span class="o">=</span> <span class="n">get_outgoing_voice_sub_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span> <span class="o">=</span> <span class="n">dumpsys_carrier_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)[</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">telephony</span><span class="p">[</span><span class="s2">&quot;subscription&quot;</span><span class="p">][</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;capabilities&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;DUT capabilities: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">CAPABILITY_VOLTE</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span><span class="s2">&quot;VoLTE is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">CAPABILITY_WFC</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span><span class="s2">&quot;WFC is not supported&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_volte</span> <span class="o">=</span> <span class="p">(</span><span class="n">CAPABILITY_VOLTE</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span><span class="p">[</span><span class="n">CarrierConfigs</span><span class="o">.</span>
                                 <span class="n">ENHANCED_4G_LTE_ON_BY_DEFAULT_BOOL</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_enabled</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">CAPABILITY_WFC</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span><span class="p">[</span><span class="n">CarrierConfigs</span><span class="o">.</span><span class="n">DEFAULT_WFC_IMS_ENABLED_BOOL</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">CarrierConfigs</span><span class="o">.</span><span class="n">DEFAULT_WFC_IMS_MODE_INT</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">telephony</span><span class="p">[</span>
            <span class="s2">&quot;subscription&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wfc_modes&quot;</span><span class="p">,</span> <span class="p">[])</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a3a680ba-d1e0-4770-a38c-4de8f15f9171&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_volte_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Enabled + WiFi Connected, Toggling WFC</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">        3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">            report iwlan rat.</span>
<span class="sd">        4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">            not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;d3ffae75-ae4a-4ed8-9337-9155c413311d&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Disabled + WiFi Connected, Toggling WFC</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">        3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">            report iwlan rat.</span>
<span class="sd">        4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">            not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;29d2d7b7-1c31-4a2c-896a-3f6756c620ac&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        3G + WiFi Connected, Toggling WFC</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, 3G network type.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">        3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">            report iwlan rat.</span>
<span class="sd">        4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">            not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ce2c0208-9ea0-4b31-91f4-d06a62cb927a&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WiFi Connected, Toggling WFC</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, Airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">        3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">            report iwlan rat.</span>
<span class="sd">        4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">            not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;681e2448-32a2-434d-abd6-0bc2ab5afd9c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_volte_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Enabled + WFC enabled, Toggling WiFi</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">        2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">        3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;63922066-9caa-42e6-bc9f-49f5ac01cbe2&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Disabled + WFC enabled, Toggling WiFi</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">        2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">        3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup CSFB&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a80a446-2116-4b19-b0ef-f771f30a6d15&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        3G + WFC enabled, Toggling WiFi</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, 3G network type.</span>
<span class="sd">        2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">        3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9889eebf-cde6-4f47-aec0-9cb204fdf2e5&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WFC enabled, Toggling WiFi</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, Airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">        3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9b23e04b-4f70-4e73-88e7-6376262c739d&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wfc_enabled_wifi_connected_toggle_volte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Enabled + WiFi Connected + WFC enabled, toggle VoLTE setting</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC enabled (WiFi Preferred).</span>
<span class="sd">            Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        3. Disable VoLTE on DUT, verify in 2 minutes period,</span>
<span class="sd">            DUT does not lost WiFi Calling, DUT still report WFC available,</span>
<span class="sd">            rat iwlan.</span>
<span class="sd">        4. Enable VoLTE on DUT, verify in 2 minutes period,</span>
<span class="sd">            DUT does not lost WiFi Calling, DUT still report WFC available,</span>
<span class="sd">            rat iwlan.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;04bdfda4-06f7-41df-9352-a8534bc2a67a&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_volte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Enabled + WiFi Connected + WiFi Preferred,</span>
<span class="sd">        change WFC to Cellular Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">            Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">        4. Verify DUT report WFC not available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;80d26bdb-992a-4b30-ad51-68308d5af168&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">            Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">        4. Verify DUT report WFC not available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;d486c7e3-3d2b-4552-8af8-7b19f6347427&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        3G + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, 3G network type.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">            Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">        4. Verify DUT report WFC not available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0feb0add-8e22-4c86-b13e-be68659cdd87&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">            Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">        4. Verify DUT report WFC not available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9c8f359f-a084-4413-b8a9-34771af166c5&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_volte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + VoLTE Enabled + WiFi Connected + Cellular Preferred,</span>
<span class="sd">        change WFC to WiFi Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">            Verify DUT WFC not available.</span>
<span class="sd">        3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">        4. Verify DUT report WFC available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1894e685-63cf-43aa-91ed-938782ca35a9&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        LTE + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">            Verify DUT WFC not available.</span>
<span class="sd">        3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">        4. Verify DUT report WFC available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;e7fb6a6c-4672-44da-bca2-78b4d96dea9e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        3G + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, 3G network type.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">            Verify DUT WFC not available.</span>
<span class="sd">        3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">        4. Verify DUT report WFC available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;46262b2d-5de9-4984-87e8-42f44469289e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle, airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">            Verify DUT WFC not available.</span>
<span class="sd">        3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">        4. Verify DUT report WFC available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
                <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5b514f51-fed9-475e-99d3-17d2165e11a1&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wfc_wifi_preferred_turn_off_apm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WiFi Connected + WiFi Preferred + turn off APM</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle in Airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi connected, set WFC mode to WiFi preferred.</span>
<span class="sd">        3. verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. Turn off airplane mode.</span>
<span class="sd">        5. Verify DUT WFC still available, report iwlan rat</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        5. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;f328cff2-9dec-44b3-ba74-a662b76fcf2a&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_wfc_cellular_preferred_turn_off_apm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">        APM + WiFi Connected + Cellular Preferred + turn off APM</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup DUT Idle in Airplane mode.</span>
<span class="sd">        2. Make sure DUT WiFi connected, set WFC mode to Cellular preferred.</span>
<span class="sd">        3. verify DUT WFC available, report iwlan rat.</span>
<span class="sd">        4. Turn off airplane mode.</span>
<span class="sd">        5. Verify DUT WFC not available, not report iwlan rat</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">        5. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;7e30d219-42ee-4309-a95c-2b45b8831d26&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wfc_setup_timing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Measures the time delay in enabling WiFi calling</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Make sure DUT idle.</span>
<span class="sd">        2. Turn on Airplane Mode, Set WiFi Calling to WiFi_Preferred.</span>
<span class="sd">        3. Turn on WiFi, connect to WiFi AP and measure time delay.</span>
<span class="sd">        4. Wait for WiFi connected, verify Internet and measure time delay.</span>
<span class="sd">        5. Wait for rat to be reported as iwlan and measure time delay.</span>
<span class="sd">        6. Wait for ims registered and measure time delay.</span>
<span class="sd">        7. Wait for WiFi Calling feature bit to be True and measure time delay.</span>

<span class="sd">        Expected results:</span>
<span class="sd">        Time Delay in each step should be within pre-defined limit.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Currently always return True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: b/26338119 Set pass/fail criteria</span>
        <span class="n">time_values</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;wifi_enabled&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;wifi_connected&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;wifi_data&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;iwlan_rat&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;ims_registered&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;wfc_enabled&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;mo_call_success&#39;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
        <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">set_wfc_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Start Time </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>

        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;WiFi Enabled After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
                          <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>

        <span class="n">network</span> <span class="o">=</span> <span class="p">{</span><span class="n">WIFI_SSID_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">:</span>
            <span class="n">network</span><span class="p">[</span><span class="n">WIFI_PWD_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiConnectByConfig</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connecting to wifi by RPC wifiConnect instead&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiConnect</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wakeUpNow</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
                                             <span class="n">MAX_WAIT_TIME_WIFI_CONNECTION</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed WiFi connection, aborting!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;WiFi Connected After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get user-plane traffic, aborting!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;WifiData After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_network_rat</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to set-up iwlan, aborting!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_droid_in_rat_family</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
                                      <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Never received the event, but droid in iwlan&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;iWLAN Reported After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
                          <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_ims_registered</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">MAX_WAIT_TIME_IMS_REGISTRATION</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Never received IMS registered, aborting&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Ims Registered After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wfc_enabled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                    <span class="n">MAX_WAIT_TIME_WFC_ENABLED</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Never received WFC feature, aborting&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Wifi Calling Feature Enabled After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">])</span>

        <span class="n">set_wfc_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">WFC_MODE_DISABLED</span><span class="p">)</span>

        <span class="n">wait_for_not_network_rat</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
            <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
            <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">------------------summary-----------------&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;WiFi Enabled After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                          <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;WiFi Connected After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;WifiData After </span><span class="si">%.2f</span><span class="s2"> s&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;iWLAN Reported After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                          <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Ims Registered After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Wifi Calling Feature Enabled After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
            <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;135301ea-6d00-4233-98fd-cda706d61eb2&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_ims_factory_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test VOLTE and WFC reset to factory default.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Setup VoLTE, WFC, APM is various mode.</span>
<span class="sd">        2. Call IMS factory reset.</span>
<span class="sd">        3. Verify VoLTE and WFC are back to factory default.</span>
<span class="sd">        4. Verify VoLTE, WFC Voice call can be made successful if enabled.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">wifi_enabled</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">airplane_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">volte_enabled</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">wfc_enabled</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">wfc_enabled</span><span class="p">:</span>
                        <span class="n">wfc_modes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">wfc_modes</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">wfc_mode</span> <span class="ow">in</span> <span class="n">wfc_modes</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="n">airplane_mode</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="n">wifi_enabled</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="n">volte_enabled</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="n">wfc_enabled</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">wfc_mode</span><span class="p">):</span>
                            <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Call IMS factory reset&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyFactoryReset</span><span class="p">()</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_default_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                                       <span class="n">carrier_configs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span><span class="p">,</span>
                                                       <span class="n">default_wfc_enabled</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_enabled</span><span class="p">,</span>
                                                       <span class="n">default_volte</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_volte</span><span class="p">,</span>
                                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_DISABLED</span><span class="p">):</span>
                            <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ce60740f-4d8e-4013-a7cf-65589e8a0893&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_factory_reset_by_fastboot_wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify the network setting after factory reset by wipe.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Config VoLTE, WFC, APM, data_roamingn, mobile_data,</span>
<span class="sd">           preferred_network_mode to non-factory default.</span>
<span class="sd">        2. Factory reset by fastboot wipe.</span>
<span class="sd">        3. Verify network configs back to factory default.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Set VoLTE off, WFC wifi preferred, APM on&quot;</span><span class="p">)</span>
        <span class="n">toggle_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">revert_default_telephony_setting</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
        <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                       <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                       <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                       <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                       <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                       <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                       <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                       <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Wipe in fastboot&quot;</span><span class="p">)</span>
        <span class="n">fastboot_wipe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">verify_default_telephony_setting</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_default_ims_setting</span><span class="p">(</span><span class="n">WFC_MODE_DISABLED</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_cellular_preferred_to_wifi_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
3G + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</p>
<p>Steps:
1. Setup DUT Idle, 3G network type.
2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.
    Verify DUT WFC not available.
3. Change WFC setting to WiFi Preferred.
4. Verify DUT report WFC available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return False, network rat is not iwlan.
4. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;e7fb6a6c-4672-44da-bca2-78b4d96dea9e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    3G + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, 3G network type.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">        Verify DUT WFC not available.</span>
<span class="sd">    3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">    4. Verify DUT report WFC available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_enabled_toggle_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_wfc_enabled_toggle_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
3G + WFC enabled, Toggling WiFi</p>
<p>Steps:
1. Setup DUT Idle, 3G network type.
2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).
3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.
4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a80a446-2116-4b19-b0ef-f771f30a6d15&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    3G + WFC enabled, Toggling WiFi</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, 3G network type.</span>
<span class="sd">    2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">    3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wfc_wifi_preferred_to_cellular_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
3G + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</p>
<p>Steps:
1. Setup DUT Idle, 3G network type.
2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.
    Verify DUT WFC available, report iwlan rat.
3. Change WFC setting to Cellular Preferred.
4. Verify DUT report WFC not available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;d486c7e3-3d2b-4552-8af8-7b19f6347427&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    3G + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, 3G network type.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">        Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">    4. Verify DUT report WFC not available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_3g_wifi_connected_toggle_wfc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_wifi_connected_toggle_wfc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
3G + WiFi Connected, Toggling WFC</p>
<p>Steps:
1. Setup DUT Idle, 3G network type.
2. Make sure DUT WiFi connected, WFC disabled.
3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,
    report iwlan rat.
4. Set DUT WFC disabled, verify DUT WFC unavailable,
    not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;29d2d7b7-1c31-4a2c-896a-3f6756c620ac&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    3G + WiFi Connected, Toggling WFC</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, 3G network type.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">    3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">        report iwlan rat.</span>
<span class="sd">    4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">        not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup 3G&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_to_wifi_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</p>
<p>Steps:
1. Setup DUT Idle, airplane mode.
2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.
    Verify DUT WFC not available.
3. Change WFC setting to WiFi Preferred.
4. Verify DUT report WFC available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;46262b2d-5de9-4984-87e8-42f44469289e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">        Verify DUT WFC not available.</span>
<span class="sd">    3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">    4. Verify DUT report WFC available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_cellular_preferred_turn_off_apm" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wfc_cellular_preferred_turn_off_apm</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WiFi Connected + Cellular Preferred + turn off APM</p>
<p>Steps:
1. Setup DUT Idle in Airplane mode.
2. Make sure DUT WiFi connected, set WFC mode to Cellular preferred.
3. verify DUT WFC available, report iwlan rat.
4. Turn off airplane mode.
5. Verify DUT WFC not available, not report iwlan rat</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
5. DUT WiFI Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;f328cff2-9dec-44b3-ba74-a662b76fcf2a&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wfc_cellular_preferred_turn_off_apm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WiFi Connected + Cellular Preferred + turn off APM</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle in Airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi connected, set WFC mode to Cellular preferred.</span>
<span class="sd">    3. verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. Turn off airplane mode.</span>
<span class="sd">    5. Verify DUT WFC not available, not report iwlan rat</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    5. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_enabled_toggle_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wfc_enabled_toggle_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WFC enabled, Toggling WiFi</p>
<p>Steps:
1. Setup DUT Idle, Airplane mode.
2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).
3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.
4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9889eebf-cde6-4f47-aec0-9cb204fdf2e5&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WFC enabled, Toggling WiFi</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, Airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">    3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_to_cellular_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</p>
<p>Steps:
1. Setup DUT Idle, airplane mode.
2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.
    Verify DUT WFC available, report iwlan rat.
3. Change WFC setting to Cellular Preferred.
4. Verify DUT report WFC not available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0feb0add-8e22-4c86-b13e-be68659cdd87&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">        Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">    4. Verify DUT report WFC not available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wfc_wifi_preferred_turn_off_apm" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wfc_wifi_preferred_turn_off_apm</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WiFi Connected + WiFi Preferred + turn off APM</p>
<p>Steps:
1. Setup DUT Idle in Airplane mode.
2. Make sure DUT WiFi connected, set WFC mode to WiFi preferred.
3. verify DUT WFC available, report iwlan rat.
4. Turn off airplane mode.
5. Verify DUT WFC still available, report iwlan rat</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
5. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5b514f51-fed9-475e-99d3-17d2165e11a1&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wfc_wifi_preferred_turn_off_apm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WiFi Connected + WiFi Preferred + turn off APM</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle in Airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi connected, set WFC mode to WiFi preferred.</span>
<span class="sd">    3. verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. Turn off airplane mode.</span>
<span class="sd">    5. Verify DUT WFC still available, report iwlan rat</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    5. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_apm_wifi_connected_toggle_wfc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_wifi_connected_toggle_wfc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
APM + WiFi Connected, Toggling WFC</p>
<p>Steps:
1. Setup DUT Idle, Airplane mode.
2. Make sure DUT WiFi connected, WFC disabled.
3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,
    report iwlan rat.
4. Set DUT WFC disabled, verify DUT WFC unavailable,
    not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ce2c0208-9ea0-4b31-91f4-d06a62cb927a&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    APM + WiFi Connected, Toggling WFC</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, Airplane mode.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">    3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">        report iwlan rat.</span>
<span class="sd">    4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">        not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_factory_reset_by_fastboot_wipe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_factory_reset_by_fastboot_wipe</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Verify the network setting after factory reset by wipe.</p>
<p>Steps:
1. Config VoLTE, WFC, APM, data_roamingn, mobile_data,
   preferred_network_mode to non-factory default.
2. Factory reset by fastboot wipe.
3. Verify network configs back to factory default.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ce60740f-4d8e-4013-a7cf-65589e8a0893&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_factory_reset_by_fastboot_wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify the network setting after factory reset by wipe.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Config VoLTE, WFC, APM, data_roamingn, mobile_data,</span>
<span class="sd">       preferred_network_mode to non-factory default.</span>
<span class="sd">    2. Factory reset by fastboot wipe.</span>
<span class="sd">    3. Verify network configs back to factory default.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Set VoLTE off, WFC wifi preferred, APM on&quot;</span><span class="p">)</span>
    <span class="n">toggle_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">revert_default_telephony_setting</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
    <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Wipe in fastboot&quot;</span><span class="p">)</span>
    <span class="n">fastboot_wipe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">verify_default_telephony_setting</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_default_ims_setting</span><span class="p">(</span><span class="n">WFC_MODE_DISABLED</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_ims_factory_reset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_ims_factory_reset</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test VOLTE and WFC reset to factory default.</p>
<p>Steps:
1. Setup VoLTE, WFC, APM is various mode.
2. Call IMS factory reset.
3. Verify VoLTE and WFC are back to factory default.
4. Verify VoLTE, WFC Voice call can be made successful if enabled.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;135301ea-6d00-4233-98fd-cda706d61eb2&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_ims_factory_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test VOLTE and WFC reset to factory default.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup VoLTE, WFC, APM is various mode.</span>
<span class="sd">    2. Call IMS factory reset.</span>
<span class="sd">    3. Verify VoLTE and WFC are back to factory default.</span>
<span class="sd">    4. Verify VoLTE, WFC Voice call can be made successful if enabled.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">wifi_enabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">airplane_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">volte_enabled</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">wfc_enabled</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">wfc_enabled</span><span class="p">:</span>
                    <span class="n">wfc_modes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">wfc_modes</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">wfc_mode</span> <span class="ow">in</span> <span class="n">wfc_modes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="n">airplane_mode</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="n">wifi_enabled</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="n">volte_enabled</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="n">wfc_enabled</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">wfc_mode</span><span class="p">):</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Call IMS factory reset&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyFactoryReset</span><span class="p">()</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_default_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                                   <span class="n">carrier_configs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">carrier_configs</span><span class="p">,</span>
                                                   <span class="n">default_wfc_enabled</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_enabled</span><span class="p">,</span>
                                                   <span class="n">default_volte</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_volte</span><span class="p">,</span>
                                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_DISABLED</span><span class="p">):</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_cellular_preferred_to_wifi_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_volte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Enabled + WiFi Connected + Cellular Preferred,
change WFC to WiFi Preferred</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE enabled.
2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.
    Verify DUT WFC not available.
3. Change WFC setting to WiFi Preferred.
4. Verify DUT report WFC available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return False, network rat is not iwlan.
4. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9c8f359f-a084-4413-b8a9-34771af166c5&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_volte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Enabled + WiFi Connected + Cellular Preferred,</span>
<span class="sd">    change WFC to WiFi Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">        Verify DUT WFC not available.</span>
<span class="sd">    3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">    4. Verify DUT report WFC available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_enabled_toggle_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_volte_wfc_enabled_toggle_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Enabled + WFC enabled, Toggling WiFi</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE enabled.
2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).
3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.
4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;681e2448-32a2-434d-abd6-0bc2ab5afd9c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_volte_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Enabled + WFC enabled, Toggling WiFi</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">    2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">    3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wfc_wifi_preferred_to_cellular_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_volte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Enabled + WiFi Connected + WiFi Preferred,
change WFC to Cellular Preferred</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE enabled.
2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.
    Verify DUT WFC available, report iwlan rat.
3. Change WFC setting to Cellular Preferred.
4. Verify DUT report WFC not available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;04bdfda4-06f7-41df-9352-a8534bc2a67a&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_volte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Enabled + WiFi Connected + WiFi Preferred,</span>
<span class="sd">    change WFC to Cellular Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">        Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">    4. Verify DUT report WFC not available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_volte_wifi_connected_toggle_wfc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_volte_wifi_connected_toggle_wfc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Enabled + WiFi Connected, Toggling WFC</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE enabled.
2. Make sure DUT WiFi connected, WFC disabled.
3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,
    report iwlan rat.
4. Set DUT WFC disabled, verify DUT WFC unavailable,
    not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a3a680ba-d1e0-4770-a38c-4de8f15f9171&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_volte_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Enabled + WiFi Connected, Toggling WFC</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">    3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">        report iwlan rat.</span>
<span class="sd">    4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">        not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_cellular_preferred_to_wifi_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE disabled.
2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.
    Verify DUT WFC not available.
3. Change WFC setting to WiFi Preferred.
4. Verify DUT report WFC available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return False, network rat is not iwlan.
4. DUT WiFI Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1894e685-63cf-43aa-91ed-938782ca35a9&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wfc_cellular_preferred_to_wifi_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + WiFi Connected + Cellular Preferred, change WFC to WiFi Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to Cellular Preferred.</span>
<span class="sd">        Verify DUT WFC not available.</span>
<span class="sd">    3. Change WFC setting to WiFi Preferred.</span>
<span class="sd">    4. Verify DUT report WFC available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_toggle_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wfc_enabled_toggle_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Disabled + WFC enabled, Toggling WiFi</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE disabled.
2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).
3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.
4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;63922066-9caa-42e6-bc9f-49f5ac01cbe2&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wfc_enabled_toggle_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Disabled + WFC enabled, Toggling WiFi</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">    2. Make sure DUT WiFi disconnected, WFC enabled (WiFi Preferred).</span>
<span class="sd">    3. DUT connect WiFi, verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    4. DUT disconnect WiFi,verify DUT WFC unavailable, not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup CSFB&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_enabled_wifi_connected_toggle_volte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wfc_enabled_wifi_connected_toggle_volte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Enabled + WiFi Connected + WFC enabled, toggle VoLTE setting</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE enabled.
2. Make sure DUT WiFi connected, WFC enabled (WiFi Preferred).
    Verify DUT WFC available, report iwlan rat.
3. Disable VoLTE on DUT, verify in 2 minutes period,
    DUT does not lost WiFi Calling, DUT still report WFC available,
    rat iwlan.
4. Enable VoLTE on DUT, verify in 2 minutes period,
    DUT does not lost WiFi Calling, DUT still report WFC available,
    rat iwlan.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return True, network rat is iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9b23e04b-4f70-4e73-88e7-6376262c739d&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wfc_enabled_wifi_connected_toggle_volte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Enabled + WiFi Connected + WFC enabled, toggle VoLTE setting</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE enabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC enabled (WiFi Preferred).</span>
<span class="sd">        Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    3. Disable VoLTE on DUT, verify in 2 minutes period,</span>
<span class="sd">        DUT does not lost WiFi Calling, DUT still report WFC available,</span>
<span class="sd">        rat iwlan.</span>
<span class="sd">    4. Enable VoLTE on DUT, verify in 2 minutes period,</span>
<span class="sd">        DUT does not lost WiFi Calling, DUT still report WFC available,</span>
<span class="sd">        rat iwlan.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup VoLTE.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wfc_wifi_preferred_to_cellular_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE disabled.
2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.
    Verify DUT WFC available, report iwlan rat.
3. Change WFC setting to Cellular Preferred.
4. Verify DUT report WFC not available.</p>
<p>Expected Results:
2. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;80d26bdb-992a-4b30-ad51-68308d5af168&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wfc_wifi_preferred_to_cellular_preferred</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + WiFi Connected + WiFi Preferred, change WFC to Cellular Preferred</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC is set to WiFi Preferred.</span>
<span class="sd">        Verify DUT WFC available, report iwlan rat.</span>
<span class="sd">    3. Change WFC setting to Cellular Preferred.</span>
<span class="sd">    4. Verify DUT report WFC not available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    2. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFI Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;WFC_MODE_WIFI_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">WFC_MODE_CELLULAR_PREFERRED</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_wfc_modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span>
            <span class="s2">&quot;WFC_MODE_CELLULAR_PREFERRED is not supported&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="n">WFC_MODE_CELLULAR_PREFERRED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_lte_wifi_connected_toggle_wfc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wifi_connected_toggle_wfc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test for WiFi Calling settings:
LTE + VoLTE Disabled + WiFi Connected, Toggling WFC</p>
<p>Steps:
1. Setup DUT Idle, LTE network type, VoLTE disabled.
2. Make sure DUT WiFi connected, WFC disabled.
3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,
    report iwlan rat.
4. Set DUT WFC disabled, verify DUT WFC unavailable,
    not report iwlan rat.</p>
<p>Expected Results:
3. DUT WiFi Calling feature bit return True, network rat is iwlan.
4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</p>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;d3ffae75-ae4a-4ed8-9337-9155c413311d&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wifi_connected_toggle_wfc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test for WiFi Calling settings:</span>
<span class="sd">    LTE + VoLTE Disabled + WiFi Connected, Toggling WFC</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Setup DUT Idle, LTE network type, VoLTE disabled.</span>
<span class="sd">    2. Make sure DUT WiFi connected, WFC disabled.</span>
<span class="sd">    3. Set DUT WFC enabled (WiFi Preferred), verify DUT WFC available,</span>
<span class="sd">        report iwlan rat.</span>
<span class="sd">    4. Set DUT WFC disabled, verify DUT WFC unavailable,</span>
<span class="sd">        not report iwlan rat.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    3. DUT WiFi Calling feature bit return True, network rat is iwlan.</span>
<span class="sd">    4. DUT WiFi Calling feature bit return False, network rat is not iwlan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup LTE&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                               <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                               <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                               <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                               <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                               <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                               <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                               <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                               <span class="n">wfc_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_wfc_mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">change_ims_setting</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="n">ad</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">dut_client</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut_client</span><span class="p">,</span>
                                   <span class="n">wifi_network_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="n">wifi_network_pass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">,</span>
                                   <span class="n">dut_capabilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dut_capabilities</span><span class="p">,</span>
                                   <span class="n">subid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subid</span><span class="p">,</span>
                                   <span class="n">airplane_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wifi_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">volte_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">wfc_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">nw_gen</span><span class="o">=</span><span class="n">RAT_LTE</span><span class="p">,</span>
                                   <span class="n">wfc_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveImsSettingsTest.TelLiveImsSettingsTest.test_wfc_setup_timing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wfc_setup_timing</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Measures the time delay in enabling WiFi calling</p>
<p>Steps:
1. Make sure DUT idle.
2. Turn on Airplane Mode, Set WiFi Calling to WiFi_Preferred.
3. Turn on WiFi, connect to WiFi AP and measure time delay.
4. Wait for WiFi connected, verify Internet and measure time delay.
5. Wait for rat to be reported as iwlan and measure time delay.
6. Wait for ims registered and measure time delay.
7. Wait for WiFi Calling feature bit to be True and measure time delay.</p>
<p>Expected results:
Time Delay in each step should be within pre-defined limit.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Currently always return True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveImsSettingsTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;7e30d219-42ee-4309-a95c-2b45b8831d26&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wfc_setup_timing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Measures the time delay in enabling WiFi calling</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Make sure DUT idle.</span>
<span class="sd">    2. Turn on Airplane Mode, Set WiFi Calling to WiFi_Preferred.</span>
<span class="sd">    3. Turn on WiFi, connect to WiFi AP and measure time delay.</span>
<span class="sd">    4. Wait for WiFi connected, verify Internet and measure time delay.</span>
<span class="sd">    5. Wait for rat to be reported as iwlan and measure time delay.</span>
<span class="sd">    6. Wait for ims registered and measure time delay.</span>
<span class="sd">    7. Wait for WiFi Calling feature bit to be True and measure time delay.</span>

<span class="sd">    Expected results:</span>
<span class="sd">    Time Delay in each step should be within pre-defined limit.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Currently always return True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: b/26338119 Set pass/fail criteria</span>
    <span class="n">time_values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;wifi_enabled&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;wifi_connected&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;wifi_data&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;iwlan_rat&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;ims_registered&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;wfc_enabled&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;mo_call_success&#39;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">)</span>
    <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">set_wfc_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">WFC_MODE_WIFI_PREFERRED</span><span class="p">)</span>

    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Start Time </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>

    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;WiFi Enabled After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
                      <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>

    <span class="n">network</span> <span class="o">=</span> <span class="p">{</span><span class="n">WIFI_SSID_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">:</span>
        <span class="n">network</span><span class="p">[</span><span class="n">WIFI_PWD_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiConnectByConfig</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connecting to wifi by RPC wifiConnect instead&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiConnect</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wakeUpNow</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
                                         <span class="n">MAX_WAIT_TIME_WIFI_CONNECTION</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed WiFi connection, aborting!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;WiFi Connected After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get user-plane traffic, aborting!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;WifiData After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_network_rat</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
            <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
            <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to set-up iwlan, aborting!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_droid_in_rat_family</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
                                  <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Never received the event, but droid in iwlan&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;iWLAN Reported After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
                      <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_ims_registered</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                   <span class="n">MAX_WAIT_TIME_IMS_REGISTRATION</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Never received IMS registered, aborting&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Ims Registered After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wfc_enabled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
                                <span class="n">MAX_WAIT_TIME_WFC_ENABLED</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Never received WFC feature, aborting&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Wifi Calling Feature Enabled After </span><span class="si">%s</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">])</span>

    <span class="n">set_wfc_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span> <span class="n">WFC_MODE_DISABLED</span><span class="p">)</span>

    <span class="n">wait_for_not_network_rat</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="p">,</span>
        <span class="n">RAT_FAMILY_WLAN</span><span class="p">,</span>
        <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">------------------summary-----------------&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;WiFi Enabled After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                      <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;WiFi Connected After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_enabled&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;WifiData After </span><span class="si">%.2f</span><span class="s2"> s&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_connected&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;iWLAN Reported After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                      <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wifi_data&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Ims Registered After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;iwlan_rat&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Wifi Calling Feature Enabled After </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
        <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;wfc_enabled&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">time_values</span><span class="p">[</span><span class="s1">&#39;ims_registered&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>
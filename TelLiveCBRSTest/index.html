
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../TelLiveCellInfoTest/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>TelLiveCBRSTest - ACTS Live Telephony Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tests.google.tel.live.TelLiveCBRSTest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ACTS Live Telephony Docs" class="md-header__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ACTS Live Telephony Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TelLiveCBRSTest
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ACTS Live Telephony Docs" class="md-nav__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ACTS Live Telephony Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    TelLiveCBRSTest
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TelLiveCBRSTest
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveCBRSTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveCBRSTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveCBRSTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_coverage" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_out_of_coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_service" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_out_of_service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_weak_signalstrength" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_weak_signalstrength
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_1x" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mo_voice_data_concurrency_1x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mo_voice_data_concurrency_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_1x" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mt_voice_data_concurrency_1x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mt_voice_data_concurrency_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mo_calls_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrs_mo_calls_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mt_calls_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrs_mt_calls_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_with_validation" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_api_with_validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_without_validation" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_api_without_validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_call
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveCellInfoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveCellInfoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorBaseTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorBaseTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveEmergencyTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveEmergencyTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSDDSSwitchTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSDDSSwitchTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSMessageTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSMessageTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSWfcSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSWfcSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveImsSettingsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveImsSettingsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveLockedSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveLockedSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveMobilityStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveMobilityStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoQXDMLogTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoQXDMLogTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePostflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePostflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePreflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePreflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveProjectFiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveProjectFiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRebootStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRebootStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilCstVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilCstVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilDataKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilDataKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilMessageKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilMessageKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSettingsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSettingsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmokeTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmokeTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressCallTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressCallTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressFdrTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressFdrTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceConfTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceConfTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVoiceTest
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveCBRSTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveCBRSTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveCBRSTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_coverage" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_out_of_coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_service" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_out_of_service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_weak_signalstrength" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_forced_weak_signalstrength
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_1x" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mo_voice_data_concurrency_1x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mo_voice_data_concurrency_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_1x" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mt_voice_data_concurrency_1x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_cbrs_mt_voice_data_concurrency_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mo_calls_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrs_mo_calls_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mt_calls_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrs_mt_calls_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_with_validation" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_api_with_validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_without_validation" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_api_without_validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_stress_cbrsdataswitch_via_call
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>TelLiveCBRSTest</h1>

<div class="doc doc-object doc-module">



<a id="tests.google.tel.live.TelLiveCBRSTest"></a>
    <div class="doc doc-contents first">

      <p>Test Script for CBRS devices</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest" class="doc doc-heading">
            <code>TelLiveCBRSTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="acts_contrib.test_utils.tel.TelephonyBaseTest.TelephonyBaseTest">TelephonyBaseTest</span></code></p>


              <details class="quote">
                <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TelLiveCBRSTest</span><span class="p">(</span><span class="n">TelephonyBaseTest</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setup_class</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stress_test_number</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_lengths</span> <span class="o">=</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">long_message_lengths</span> <span class="o">=</span> <span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">1600</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">switch_time_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stress_test_number&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_weak_signal</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_service</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_coverage</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">on_fail</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">load_scone_cat_simulate_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;test_stress&#39;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_fail</span><span class="p">(</span><span class="n">test_name</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_cbrs_call_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ads</span><span class="p">,</span> <span class="n">mo_mt</span><span class="p">,</span>
                            <span class="n">cbrs_phone_setup_func</span><span class="p">,</span>
                            <span class="n">verify_cbrs_initial_idle_func</span><span class="p">,</span>
                            <span class="n">verify_data_initial_func</span><span class="p">,</span>
                            <span class="n">verify_cbrs_in_call_state_func</span><span class="p">,</span>
                            <span class="n">verify_data_in_call_func</span><span class="p">,</span>
                            <span class="n">incall_cbrs_setting_check_func</span><span class="p">,</span>
                            <span class="n">verify_data_final_func</span><span class="p">,</span>
                            <span class="n">verify_cbrs_final_func</span><span class="p">,</span>
                            <span class="n">expected_result</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_cbrs_call_sequence</span>

<span class="sd">        Args:</span>
<span class="sd">            ads: list of android devices. This list should have 2 ad.</span>
<span class="sd">            mo_mt: indicating this call sequence is MO or MT.</span>
<span class="sd">                Valid input: DIRECTION_MOBILE_ORIGINATED and</span>
<span class="sd">                DIRECTION_MOBILE_TERMINATED.</span>

<span class="sd">        Returns:</span>
<span class="sd">            if expected_result is True,</span>
<span class="sd">                Return True if call sequence finish without exception.</span>
<span class="sd">            if expected_result is string,</span>
<span class="sd">                Return True if expected exception happened. Otherwise False.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">class</span> <span class="nc">_CBRSCallSequenceException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ads</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">mo_mt</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span>
        <span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid parameters.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span> <span class="o">=</span> <span class="n">get_cbrs_and_default_sub_id</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">mo_mt</span> <span class="o">==</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">:</span>
            <span class="n">ad_caller</span> <span class="o">=</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">ad_callee</span> <span class="o">=</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">caller_number</span> <span class="o">=</span> <span class="n">get_phone_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_caller</span><span class="p">)</span>
            <span class="n">callee_number</span> <span class="o">=</span> <span class="n">get_phone_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_callee</span><span class="p">)</span>
            <span class="n">mo_operator</span> <span class="o">=</span> <span class="n">get_operator_name</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">mt_operator</span> <span class="o">=</span> <span class="n">get_operator_name</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ad_caller</span> <span class="o">=</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">ad_callee</span> <span class="o">=</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">caller_number</span> <span class="o">=</span> <span class="n">get_phone_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_caller</span><span class="p">)</span>
            <span class="n">callee_number</span> <span class="o">=</span> <span class="n">get_phone_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_callee</span><span class="p">)</span>
            <span class="n">mt_operator</span> <span class="o">=</span> <span class="n">get_operator_name</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">mo_operator</span> <span class="o">=</span> <span class="n">get_operator_name</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;--&gt;Begin cbrs_call_sequence: </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&lt;--&quot;</span><span class="p">,</span>
                      <span class="n">caller_number</span><span class="p">,</span> <span class="n">callee_number</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;--&gt; </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2"> &lt;--&quot;</span><span class="p">,</span> <span class="n">mo_operator</span><span class="p">,</span> <span class="n">mt_operator</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Setup</span>
            <span class="k">if</span> <span class="n">cbrs_phone_setup_func</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">cbrs_phone_setup_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;cbrs_phone_setup_func fail.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_voice_general</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;phone_setup_voice_general fail.&quot;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_BETWEEN_REG_AND_CALL</span><span class="p">)</span>

            <span class="c1"># Ensure idle status correct</span>
            <span class="k">if</span> <span class="n">verify_cbrs_initial_idle_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_cbrs_initial_idle_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_initial_idle_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_data_initial_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_initial_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_data_initial_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Make MO/MT call.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">initiate_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_caller</span><span class="p">,</span> <span class="n">callee_number</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;initiate_call fail.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_and_answer_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_callee</span><span class="p">,</span> <span class="n">caller_number</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;wait_and_answer_call fail.&quot;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>

            <span class="c1"># Check state, wait 30 seconds, check again.</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">verify_cbrs_in_call_state_func</span> <span class="ow">and</span> <span class="ow">not</span>
                    <span class="n">verify_cbrs_in_call_state_func</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_in_call_state_func fail.&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">is_phone_not_in_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;PhoneB not in call.&quot;</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_data_in_call_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_in_call_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_data_in_call_func fail.&quot;</span><span class="p">)</span>

            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_IN_CALL</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">verify_cbrs_in_call_state_func</span> <span class="ow">and</span> <span class="ow">not</span>
                    <span class="n">verify_cbrs_in_call_state_func</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_in_call_state_func fail after 30 seconds.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_phone_not_in_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;PhoneB not in call after 30 seconds.&quot;</span><span class="p">)</span>

            <span class="c1"># in call change setting and check</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">incall_cbrs_setting_check_func</span> <span class="ow">and</span> <span class="ow">not</span>
                    <span class="n">incall_cbrs_setting_check_func</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;incall_cbrs_setting_check_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Hangup call</span>
            <span class="k">if</span> <span class="n">is_phone_in_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">hangup_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                    <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;hangup_call fail.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">incall_cbrs_setting_check_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span><span class="s2">&quot;Unexpected call drop.&quot;</span><span class="p">)</span>

            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_data_final_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_final_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_data_final_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_cbrs_final_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_cbrs_final_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_final_func fail.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">_CBRSCallSequenceException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_result</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Expected exception: &lt;</span><span class="si">%s</span><span class="s2">&gt;, return True.&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unexpected exception: &lt;</span><span class="si">%s</span><span class="s2">&gt;, return False.&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ad</span> <span class="ow">in</span> <span class="n">ads</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telecomIsInCall</span><span class="p">():</span>
                    <span class="n">hangup_call_by_adb</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;cbrs_call_sequence finished, return </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                      <span class="n">expected_result</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">expected_result</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_phone_idle_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_idle_not_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_not_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_idle_volte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_idle_csfb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_idle_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_idle_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_idle_2g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_not_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_not_iwlan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_not_in_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_phone_in_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> in call.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">serial</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> not in call.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">serial</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_volte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_volte</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_2g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call_csfb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call_csfb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_phone_in_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_phone_in_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_setup_voice_general</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_setup_voice_general</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_setup_volte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_setup_volte_for_subscription</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_phone_setup_1x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_setup_cdma</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_phone_setup_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">phone_setup_voice_2g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>


    <span class="k">def</span> <span class="nf">_test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_test_data_browsing_failure_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">test_data_browsing_failure_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_is_current_data_on_cbrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_current_data_on_cbrs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_is_current_data_on_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">is_current_data_on_cbrs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_list_average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">):</span>
        <span class="n">total_sum</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">input_list</span><span class="p">))</span>
        <span class="n">total_count</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">input_list</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">input_list</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">total_sum</span> <span class="o">/</span> <span class="n">total_count</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_CBRS_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ads</span><span class="p">,</span>
                           <span class="n">verify_data_is_on_cbrs</span><span class="p">,</span>
                           <span class="n">verify_data_initial_func</span><span class="p">,</span>
                           <span class="n">simulate_signal</span><span class="p">,</span>
                           <span class="n">verify_data_in_call_func</span><span class="p">,</span>
                           <span class="n">incall_cbrs_setting_check_func</span><span class="p">,</span>
                           <span class="n">stop_simulation</span><span class="p">,</span>
                           <span class="n">verify_data_final_func</span><span class="p">,</span>
                           <span class="n">verify_cbrs_final_func</span><span class="p">,</span>
                           <span class="n">expected_result</span>  <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Signal in Reduced Signal Strength</span>
<span class="sd">        By Default Data will be on CBRS.</span>
<span class="sd">        Fake Signal strength of CBRS to weak.</span>
<span class="sd">        Verify the data is switched to LTE.</span>
<span class="sd">        Increase the signal strength on CBRS</span>
<span class="sd">        Verify data is back on CBRS.</span>
<span class="sd">        &quot;&quot;&quot;</span>


        <span class="k">class</span> <span class="nc">_CBRSCallSequenceException1</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span> <span class="o">=</span> <span class="n">get_cbrs_and_default_sub_id</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="c1"># Check if Data is on CBRS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">verify_data_is_on_cbrs</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_is_on_cbrs</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_initial_idle_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Check if Data works well on CBRS</span>
            <span class="k">if</span> <span class="n">verify_data_initial_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_initial_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span>
                    <span class="s2">&quot;verify_data_initial_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Reduce the Signal strength on CBRS</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Simulating the Signal using Scone CAT&quot;</span><span class="p">)</span>
            <span class="n">load_scone_cat_simulate_data</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">simulate_signal</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed and it works on Default Sub Id</span>
            <span class="k">if</span> <span class="n">verify_data_in_call_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_in_call_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span><span class="s2">&quot;verify_data_on_default SubId fail.&quot;</span><span class="p">)</span>

            <span class="c1"># in call change setting and check</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">incall_cbrs_setting_check_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">incall_cbrs_setting_check_func</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span>
                    <span class="s2">&quot;incall_cbrs_setting_check_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Stop Stimulation and wait for CBRS signal to recover</span>
            <span class="n">load_scone_cat_simulate_data</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">stop_simulation</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>

            <span class="c1"># Verify Data is Back on CBRS</span>
            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_data_final_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_data_final_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span>
                    <span class="s2">&quot;verify_data_final_func fail.&quot;</span><span class="p">)</span>

            <span class="c1"># Ensure data checks are performed</span>
            <span class="k">if</span> <span class="n">verify_cbrs_final_func</span> <span class="ow">and</span> <span class="ow">not</span> \
                <span class="n">verify_cbrs_final_func</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">_CBRSCallSequenceException1</span><span class="p">(</span>
                    <span class="s2">&quot;verify_cbrs_final_func fail.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">_CBRSCallSequenceException1</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_result</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Expected exception: &lt;</span><span class="si">%s</span><span class="s2">&gt;, return True.&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unexpected exception: &lt;</span><span class="si">%s</span><span class="s2">&gt;, return False.&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ad</span> <span class="ow">in</span> <span class="n">ads</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telecomIsInCall</span><span class="p">():</span>
                    <span class="n">hangup_call_by_adb</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;cbrs_data_switch finished, return </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                      <span class="n">expected_result</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">expected_result</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">)</span>


<span class="w">    </span><span class="sd">&quot;&quot;&quot; Tests Begin &quot;&quot;&quot;</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;f7a3db92-2f1b-4131-99bc-b323dbce812c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_mo_voice_data_concurrency_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MO Voice Call on LTE</span>

<span class="sd">        PhoneA should be on LTE with VoLTE enabled</span>
<span class="sd">        Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">        Call from PhoneA to PhoneB, call should succeed</span>
<span class="sd">        Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">        Terminate call</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_volte</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_volte</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MO Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;17acce7a-de9c-4540-b2d3-2c98367a0b4e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_mt_voice_data_concurrency_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MT Voice Call on LTE</span>

<span class="sd">        PhoneA should be on LTE with VoLTE enabled</span>
<span class="sd">        Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">        Call from PhoneB to PhoneA, call should succeed</span>
<span class="sd">        Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">        Terminate call</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_volte</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_volte</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MT Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;dc2608fc-b99d-419b-8989-e1f8cdeb04da&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_mo_voice_data_concurrency_1x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MO Voice Call on 3G</span>

<span class="sd">        PhoneA should be on UMTS</span>
<span class="sd">        Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">        Call from PhoneA to PhoneB, call should succeed</span>
<span class="sd">        Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">        Terminate call</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_1x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_3g</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_failure_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MO Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;cd3a6613-ca37-43c7-8364-7e4e627ca558&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_mt_voice_data_concurrency_1x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MT Voice Call on 3G</span>

<span class="sd">        PhoneA should be on UMTS</span>
<span class="sd">        Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">        Call from PhoneA to PhoneA, call should succeed</span>
<span class="sd">        Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">        Terminate call</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_1x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_3g</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_failure_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MT Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">_test_stress_cbrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mo_mt</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS/SSIM VoLTE Stress</span>

<span class="sd">            mo_mt: indicating this call sequence is MO or MT.</span>
<span class="sd">                Valid input: DIRECTION_MOBILE_ORIGINATED and</span>
<span class="sd">                DIRECTION_MOBILE_TERMINATED.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mo_mt</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span>
                          <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid parameters.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">total_iteration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span> <span class="o">=</span> <span class="n">get_cbrs_and_default_sub_id</span><span class="p">(</span><span class="n">ads</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Total iteration = </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
        <span class="n">current_iteration</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total_iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stress Call Test Iteration: &lt;</span><span class="si">%s</span><span class="s2">&gt; / &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="n">begin_time</span> <span class="o">=</span> <span class="n">get_current_epoch_time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">start_qxdm_loggers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">)</span>
            <span class="n">iteration_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
                <span class="n">ads</span><span class="p">,</span> <span class="n">mo_mt</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_volte</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_volte</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration_result</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">iteration_result</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> succeed.----&lt;&quot;</span><span class="p">,</span>
                    <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span><span class="p">[</span><span class="s2">&quot;cbrs_fail&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> failed.----&lt;&quot;</span><span class="p">,</span>
                    <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_take_bug_report</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_IterNo_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
                                      <span class="n">begin_time</span><span class="p">)</span>
            <span class="n">current_iteration</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">failure</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">fail_count</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">count</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> failures in </span><span class="si">%s</span><span class="s2"> iterations&quot;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span>
                               <span class="n">total_iteration</span><span class="p">)</span>
                <span class="n">test_result</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test_result</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;860dc00d-5be5-4cdd-aeb1-a89edfa83342&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_stress_cbrs_mt_calls_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test SSIM to CBRS stress</span>

<span class="sd">        Call from PhoneB to PhoneA</span>
<span class="sd">        Perform CBRS Data checks</span>
<span class="sd">        Repeat above steps</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrs</span><span class="p">(</span><span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;54366c70-c9cb-4eed-bd1c-a37c83d5c0ae&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_stress_cbrs_mo_calls_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS to SSIM stress</span>

<span class="sd">        Call from PhoneA to PhoneB</span>
<span class="sd">        Perform CBRS Data checks</span>
<span class="sd">        Repeat above steps</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrs</span><span class="p">(</span><span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_cbrs_default_data_switch_timing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">callback_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;cbrs_droid&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">get_droid</span><span class="p">()</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">is_live</span><span class="p">:</span>
                    <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">get_droid</span><span class="p">()</span>
                    <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">clear_all_events</span><span class="p">()</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">logI</span><span class="p">(</span><span class="s2">&quot;Start test_stress_cbrsdataswitch test&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Create new sl4a session for CBRS&quot;</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">get_droid</span><span class="p">()</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">validation</span><span class="p">:</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">telephonyStartTrackingActiveDataChange</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">callback_key</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">connectivityRegisterDefaultNetworkCallback</span><span class="p">()</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">connectivityNetworkCallbackStartListeningForEvent</span><span class="p">(</span>
                <span class="n">callback_key</span><span class="p">,</span> <span class="n">NetworkCallbackAvailable</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">clear_events</span><span class="p">(</span><span class="n">EventActiveDataSubIdChanged</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">clear_events</span><span class="p">(</span><span class="n">EventNetworkCallback</span><span class="p">)</span>
            <span class="n">initiate_time_before</span> <span class="o">=</span> <span class="n">get_device_epoch_time</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;initiate_time_before: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">initiate_time_before</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;api&quot;</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting DDS to default sub </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonySetPreferredOpportunisticDataSubscription</span><span class="p">(</span>
                    <span class="mi">2147483647</span><span class="p">,</span> <span class="n">validation</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Making a Voice Call to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">STORY_LINE</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telecomCallNumber</span><span class="p">(</span><span class="n">STORY_LINE</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">validation</span><span class="p">:</span>
                    <span class="n">events</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">pop_events</span><span class="p">(</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">EventActiveDataSubIdChanged</span><span class="p">),</span>
                        <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
                        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got event </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EventActiveDataSubIdChanged</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="ow">and</span> \
                                    <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span><span class="p">:</span>
                                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> has data switched to: </span><span class="si">%s</span><span class="s2"> sub&quot;</span><span class="p">,</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
                                <span class="n">initiate_time_after</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                            <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">events</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">pop_events</span><span class="p">(</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span>
                       <span class="p">(</span><span class="n">EventNetworkCallback</span><span class="p">),</span> <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
                        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got event </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EventNetworkCallback</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;networkCallbackEvent&quot;</span><span class="p">):</span>
                                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> has data switched to: </span><span class="si">%s</span><span class="s2"> sub&quot;</span><span class="p">,</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;networkCallbackEvent&quot;</span><span class="p">],</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span><span class="p">)</span>
                                <span class="n">initiate_time_after</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                            <span class="k">break</span>
            <span class="k">except</span> <span class="n">Empty</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2"> event for DataSwitch received in </span><span class="si">%d</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                             <span class="n">EventActiveDataSubIdChanged</span><span class="p">,</span> <span class="n">EventNetworkCallback</span><span class="p">,</span>
                             <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">time_interval</span> <span class="o">=</span> <span class="p">(</span><span class="n">initiate_time_after</span> <span class="o">-</span> <span class="n">initiate_time_before</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">switch_time_dict</span><span class="p">[</span><span class="s1">&#39;cbrs_default_switch&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_interval</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time_interval</span> <span class="o">&gt;</span> <span class="n">TIME_PERMITTED_FOR_CBRS_SWITCH</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Time for CBRS-&gt;Default - </span><span class="si">%.2f</span><span class="s2"> secs&quot;</span><span class="p">,</span> <span class="n">time_interval</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Time for CBRS-&gt;Default - </span><span class="si">%.2f</span><span class="s2"> secs&quot;</span><span class="p">,</span> <span class="n">time_interval</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_BETWEEN_HANDOVER</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">clear_events</span><span class="p">(</span><span class="n">EventActiveDataSubIdChanged</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">clear_events</span><span class="p">(</span><span class="n">EventNetworkCallback</span><span class="p">)</span>
            <span class="n">hangup_time_before</span> <span class="o">=</span> <span class="n">get_device_epoch_time</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;hangup_time_before: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">hangup_time_before</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;api&quot;</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting DDS to cbrs sub </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonySetPreferredOpportunisticDataSubscription</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="n">validation</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Ending Call&quot;</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telecomEndCall</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">validation</span><span class="p">:</span>
                    <span class="n">events</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">pop_events</span><span class="p">(</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">EventActiveDataSubIdChanged</span><span class="p">),</span> <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
                        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got event </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EventActiveDataSubIdChanged</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="ow">and</span> \
                                    <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">:</span>
                                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> has data switched to: </span><span class="si">%s</span><span class="s2"> sub&quot;</span><span class="p">,</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
                                <span class="n">hangup_time_after</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                            <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">events</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_ed</span><span class="o">.</span><span class="n">pop_events</span><span class="p">(</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">EventNetworkCallback</span><span class="p">),</span> <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
                        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got event </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EventNetworkCallback</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;networkCallbackEvent&quot;</span><span class="p">):</span>
                                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> has data switched to: </span><span class="si">%s</span><span class="s2"> sub&quot;</span><span class="p">,</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                                            <span class="n">event</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;networkCallbackEvent&quot;</span><span class="p">],</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">)</span>
                                <span class="n">hangup_time_after</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                            <span class="k">break</span>
            <span class="k">except</span> <span class="n">Empty</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No </span><span class="si">%s</span><span class="s2"> event for DataSwitch received in </span><span class="si">%d</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                             <span class="n">EventActiveDataSubIdChanged</span><span class="p">,</span>
                             <span class="n">WAIT_TIME_FOR_CBRS_DATA_SWITCH</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">time_interval</span> <span class="o">=</span> <span class="p">(</span><span class="n">hangup_time_after</span> <span class="o">-</span> <span class="n">hangup_time_before</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">switch_time_dict</span><span class="p">[</span><span class="s1">&#39;default_cbrs_switch&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_interval</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time_interval</span> <span class="o">&gt;</span> <span class="n">TIME_PERMITTED_FOR_CBRS_SWITCH</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Time for Default-&gt;CBRS - </span><span class="si">%.2f</span><span class="s2"> secs&quot;</span><span class="p">,</span> <span class="n">time_interval</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Time for Default-&gt;CBRS - </span><span class="si">%.2f</span><span class="s2"> secs&quot;</span><span class="p">,</span> <span class="n">time_interval</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Exception error </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">validation</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">telephonyStopTrackingActiveDataChange</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">callback_key</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">cbrs_droid</span><span class="o">.</span><span class="n">connectivityNetworkCallbackStopListeningForEvent</span><span class="p">(</span>
                    <span class="n">callback_key</span><span class="p">,</span> <span class="n">NetworkCallbackAvailable</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;number_of_devices&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;pm disable com.google.android.apps.scone&quot;</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_subid</span> <span class="o">=</span> <span class="n">get_cbrs_and_default_sub_id</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
        <span class="n">toggle_airplane_mode</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">new_state</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">strict_checking</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">():</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on CBRS, proceeding with test&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Current Data not on CBRS, forcing it now..&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonySetPreferredOpportunisticDataSubscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyUpdateAvailableNetworks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cbrs_subid</span><span class="p">)</span>
        <span class="n">total_iteration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">switch_time_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cbrs_default_switch&#39;</span><span class="p">:[],</span>
                                 <span class="s1">&#39;default_cbrs_switch&#39;</span><span class="p">:</span> <span class="p">[]}</span>
        <span class="n">current_iteration</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total_iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stress CBRS Test Iteration: &lt;</span><span class="si">%s</span><span class="s2">&gt; / &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="n">begin_time</span> <span class="o">=</span> <span class="n">get_current_epoch_time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">start_qxdm_logger</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">)</span>
            <span class="n">iteration_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_default_data_switch_timing</span><span class="p">(</span>
                <span class="n">ad</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">validation</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration_result</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">iteration_result</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> succeed.----&lt;&quot;</span><span class="p">,</span>
                    <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span><span class="p">[</span><span class="s2">&quot;cbrsdataswitch_fail&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> failed.----&lt;&quot;</span><span class="p">,</span>
                    <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_take_bug_report</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_IterNo_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
                                      <span class="n">begin_time</span><span class="p">)</span>
            <span class="n">current_iteration</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_BETWEEN_ITERATION</span><span class="p">)</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">time_task</span><span class="p">,</span> <span class="n">time_list</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">switch_time_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">time_task</span><span class="p">,</span> <span class="n">time_list</span><span class="p">)</span>
            <span class="n">avg_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_list_average</span><span class="p">(</span><span class="n">time_list</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Average </span><span class="si">%s</span><span class="s2"> for </span><span class="si">%d</span><span class="s2"> iterations = </span><span class="si">%.2f</span><span class="s2"> seconds&quot;</span><span class="p">,</span>
                                <span class="n">time_task</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">,</span> <span class="n">avg_time</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">failure</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">fail_count</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">count</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> failures in </span><span class="si">%s</span><span class="s2"> iterations&quot;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span>
                               <span class="n">total_iteration</span><span class="p">)</span>
                <span class="n">test_result</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;pm enable com.google.android.apps.scone&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">test_result</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c66e307b-8456-4a86-af43-d715597ce802&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_api_without_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">        By default, data is expected to be on CBRS</span>
<span class="sd">        Using TelephonyManagerAPI, switch data to default</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Using TelephonyManagerAPI, switch data to cbrs</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Switching to be done with validation set to False</span>
<span class="sd">        Repeat above steps</span>
<span class="sd">        Calculate average time to switch</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a0ae7691-4890-4e94-8a01-b54ba5b6f489&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_api_with_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">        By default, data is expected to be on CBRS</span>
<span class="sd">        Using TelephonyManagerAPI, switch data to default</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Using TelephonyManagerAPI, switch data to cbrs</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Switching to be done with validation set to True</span>
<span class="sd">        Repeat above steps</span>
<span class="sd">        Calculate average time to switch</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1e69b57a-f2f7-42c6-8389-2194356c599c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">        By default, data is expected to be on CBRS</span>
<span class="sd">        Initiate MO Phone, data will switch to default</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Hangup MO Phone, data will switch to cbrs</span>
<span class="sd">        Measure time to switch</span>
<span class="sd">        Repeat above steps</span>
<span class="sd">        Calculate average time to switch</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;call&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c2f67a50-1d06-4e3f-8935-5360720a55a3&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_forced_weak_signalstrength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">        Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">        Using CAT Scone apk, reduce the signal strength.</span>
<span class="sd">        Verify the data switches from CBRS to Psim.</span>
<span class="sd">        Verify Data Browsing works fine on pSIM.</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_weak_signal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_weak_signal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulate_weak_signal</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;066ff1e4-c3f7-4834-a86a-6ebd9fbbee06&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_forced_out_of_service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">        Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">        Using CAT Scone apk, reduce the signal strength</span>
<span class="sd">            to mimic CBRS signal out of service</span>
<span class="sd">        Verify the data switches from CBRS to Psim.</span>
<span class="sd">        Verify Data Browsing works fine on pSIM.</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_out_of_service&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_service</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8268f88f-c2e3-4000-8f05-97e34e028a92&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_cbrs_forced_out_of_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">        Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">        Using CAT Scone apk, reduce the signal strength</span>
<span class="sd">            to mimic CBRS signal out of coverage.</span>
<span class="sd">        Verify the data switches from CBRS to Psim.</span>
<span class="sd">        Verify Data Browsing works fine on pSIM.</span>
<span class="sd">        Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_coverage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_out_of_coverage&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
            <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_coverage</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_coverage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_forced_out_of_coverage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data switch</p>
<p>Verify Data Browsing works fine on cbrs before weak signal.
Using CAT Scone apk, reduce the signal strength
    to mimic CBRS signal out of coverage.
Verify the data switches from CBRS to Psim.
Verify Data Browsing works fine on pSIM.
Verify Data Browsing works fine on cbrs after simulation is stopped.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8268f88f-c2e3-4000-8f05-97e34e028a92&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_forced_out_of_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">    Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">    Using CAT Scone apk, reduce the signal strength</span>
<span class="sd">        to mimic CBRS signal out of coverage.</span>
<span class="sd">    Verify the data switches from CBRS to Psim.</span>
<span class="sd">    Verify Data Browsing works fine on pSIM.</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_coverage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_out_of_coverage&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_coverage</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_out_of_service" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_forced_out_of_service</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data switch</p>
<p>Verify Data Browsing works fine on cbrs before weak signal.
Using CAT Scone apk, reduce the signal strength
    to mimic CBRS signal out of service
Verify the data switches from CBRS to Psim.
Verify Data Browsing works fine on pSIM.
Verify Data Browsing works fine on cbrs after simulation is stopped.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;066ff1e4-c3f7-4834-a86a-6ebd9fbbee06&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_forced_out_of_service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">    Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">    Using CAT Scone apk, reduce the signal strength</span>
<span class="sd">        to mimic CBRS signal out of service</span>
<span class="sd">    Verify the data switches from CBRS to Psim.</span>
<span class="sd">    Verify Data Browsing works fine on pSIM.</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_out_of_service&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_out_of_service</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_forced_weak_signalstrength" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_forced_weak_signalstrength</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data switch</p>
<p>Verify Data Browsing works fine on cbrs before weak signal.
Using CAT Scone apk, reduce the signal strength.
Verify the data switches from CBRS to Psim.
Verify Data Browsing works fine on pSIM.
Verify Data Browsing works fine on cbrs after simulation is stopped.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c2f67a50-1d06-4e3f-8935-5360720a55a3&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_forced_weak_signalstrength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data switch</span>

<span class="sd">    Verify Data Browsing works fine on cbrs before weak signal.</span>
<span class="sd">    Using CAT Scone apk, reduce the signal strength.</span>
<span class="sd">    Verify the data switches from CBRS to Psim.</span>
<span class="sd">    Verify Data Browsing works fine on pSIM.</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after simulation is stopped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">simulate_weak_signal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulate_weak_signal&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stop_simulate&quot;</span><span class="p">)</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_CBRS_switch</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate_weak_signal</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_simulation</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS data switch Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_1x" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_mo_voice_data_concurrency_1x</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data with MO Voice Call on 3G</p>
<p>PhoneA should be on UMTS
Verify Data Browsing works fine on cbrs before call
Call from PhoneA to PhoneB, call should succeed
Verify Data Browsing works fine on pSIM during call
Terminate call
Verify Data Browsing works fine on cbrs after call</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;dc2608fc-b99d-419b-8989-e1f8cdeb04da&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_mo_voice_data_concurrency_1x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MO Voice Call on 3G</span>

<span class="sd">    PhoneA should be on UMTS</span>
<span class="sd">    Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">    Call from PhoneA to PhoneB, call should succeed</span>
<span class="sd">    Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">    Terminate call</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_1x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_3g</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_failure_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MO Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mo_voice_data_concurrency_lte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_mo_voice_data_concurrency_lte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data with MO Voice Call on LTE</p>
<p>PhoneA should be on LTE with VoLTE enabled
Verify Data Browsing works fine on cbrs before call
Call from PhoneA to PhoneB, call should succeed
Verify Data Browsing works fine on pSIM during call
Terminate call
Verify Data Browsing works fine on cbrs after call</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;f7a3db92-2f1b-4131-99bc-b323dbce812c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_mo_voice_data_concurrency_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MO Voice Call on LTE</span>

<span class="sd">    PhoneA should be on LTE with VoLTE enabled</span>
<span class="sd">    Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">    Call from PhoneA to PhoneB, call should succeed</span>
<span class="sd">    Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">    Terminate call</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_volte</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_volte</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MO Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_1x" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_mt_voice_data_concurrency_1x</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data with MT Voice Call on 3G</p>
<p>PhoneA should be on UMTS
Verify Data Browsing works fine on cbrs before call
Call from PhoneA to PhoneA, call should succeed
Verify Data Browsing works fine on pSIM during call
Terminate call
Verify Data Browsing works fine on cbrs after call</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;cd3a6613-ca37-43c7-8364-7e4e627ca558&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_mt_voice_data_concurrency_1x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MT Voice Call on 3G</span>

<span class="sd">    PhoneA should be on UMTS</span>
<span class="sd">    Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">    Call from PhoneA to PhoneA, call should succeed</span>
<span class="sd">    Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">    Terminate call</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_1x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_3g</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_failure_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MT Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_cbrs_mt_voice_data_concurrency_lte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_cbrs_mt_voice_data_concurrency_lte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS Data with MT Voice Call on LTE</p>
<p>PhoneA should be on LTE with VoLTE enabled
Verify Data Browsing works fine on cbrs before call
Call from PhoneB to PhoneA, call should succeed
Verify Data Browsing works fine on pSIM during call
Terminate call
Verify Data Browsing works fine on cbrs after call</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;17acce7a-de9c-4540-b2d3-2c98367a0b4e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_cbrs_mt_voice_data_concurrency_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS Data with MT Voice Call on LTE</span>

<span class="sd">    PhoneA should be on LTE with VoLTE enabled</span>
<span class="sd">    Verify Data Browsing works fine on cbrs before call</span>
<span class="sd">    Call from PhoneB to PhoneA, call should succeed</span>
<span class="sd">    Verify Data Browsing works fine on pSIM during call</span>
<span class="sd">    Terminate call</span>
<span class="sd">    Verify Data Browsing works fine on cbrs after call</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cbrs_call_sequence</span><span class="p">(</span>
        <span class="n">ads</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_phone_setup_volte</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_phone_in_call_volte</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_default</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_browsing_success_using_sl4a</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_current_data_on_cbrs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CBRS MT Result: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mo_calls_lte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_stress_cbrs_mo_calls_lte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS to SSIM stress</p>
<p>Call from PhoneA to PhoneB
Perform CBRS Data checks
Repeat above steps</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;54366c70-c9cb-4eed-bd1c-a37c83d5c0ae&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_stress_cbrs_mo_calls_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS to SSIM stress</span>

<span class="sd">    Call from PhoneA to PhoneB</span>
<span class="sd">    Perform CBRS Data checks</span>
<span class="sd">    Repeat above steps</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrs</span><span class="p">(</span><span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrs_mt_calls_lte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_stress_cbrs_mt_calls_lte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test SSIM to CBRS stress</p>
<p>Call from PhoneB to PhoneA
Perform CBRS Data checks
Repeat above steps</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;860dc00d-5be5-4cdd-aeb1-a89edfa83342&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_stress_cbrs_mt_calls_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test SSIM to CBRS stress</span>

<span class="sd">    Call from PhoneB to PhoneA</span>
<span class="sd">    Perform CBRS Data checks</span>
<span class="sd">    Repeat above steps</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrs</span><span class="p">(</span><span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_with_validation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_stress_cbrsdataswitch_via_api_with_validation</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS to Default Data Switch Stress Test</p>
<p>By default, data is expected to be on CBRS
Using TelephonyManagerAPI, switch data to default
Measure time to switch
Using TelephonyManagerAPI, switch data to cbrs
Measure time to switch
Switching to be done with validation set to True
Repeat above steps
Calculate average time to switch</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a0ae7691-4890-4e94-8a01-b54ba5b6f489&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_api_with_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">    By default, data is expected to be on CBRS</span>
<span class="sd">    Using TelephonyManagerAPI, switch data to default</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Using TelephonyManagerAPI, switch data to cbrs</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Switching to be done with validation set to True</span>
<span class="sd">    Repeat above steps</span>
<span class="sd">    Calculate average time to switch</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_api_without_validation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_stress_cbrsdataswitch_via_api_without_validation</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS to Default Data Switch Stress Test</p>
<p>By default, data is expected to be on CBRS
Using TelephonyManagerAPI, switch data to default
Measure time to switch
Using TelephonyManagerAPI, switch data to cbrs
Measure time to switch
Switching to be done with validation set to False
Repeat above steps
Calculate average time to switch</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c66e307b-8456-4a86-af43-d715597ce802&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_api_without_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">    By default, data is expected to be on CBRS</span>
<span class="sd">    Using TelephonyManagerAPI, switch data to default</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Using TelephonyManagerAPI, switch data to cbrs</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Switching to be done with validation set to False</span>
<span class="sd">    Repeat above steps</span>
<span class="sd">    Calculate average time to switch</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveCBRSTest.TelLiveCBRSTest.test_stress_cbrsdataswitch_via_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_stress_cbrsdataswitch_via_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test CBRS to Default Data Switch Stress Test</p>
<p>By default, data is expected to be on CBRS
Initiate MO Phone, data will switch to default
Measure time to switch
Hangup MO Phone, data will switch to cbrs
Measure time to switch
Repeat above steps
Calculate average time to switch</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveCBRSTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1e69b57a-f2f7-42c6-8389-2194356c599c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_stress_cbrsdataswitch_via_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test CBRS to Default Data Switch Stress Test</span>

<span class="sd">    By default, data is expected to be on CBRS</span>
<span class="sd">    Initiate MO Phone, data will switch to default</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Hangup MO Phone, data will switch to cbrs</span>
<span class="sd">    Measure time to switch</span>
<span class="sd">    Repeat above steps</span>
<span class="sd">    Calculate average time to switch</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test_stress_cbrsdataswitch_timing</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;call&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>
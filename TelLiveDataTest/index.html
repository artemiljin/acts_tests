
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../TelLiveConnectivityMonitorTest/">
      
      
        <link rel="next" href="../TelLiveDSDSVoiceTest/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>TelLiveDataTest - ACTS Live Telephony Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tests.google.tel.live.TelLiveDataTest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ACTS Live Telephony Docs" class="md-header__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ACTS Live Telephony Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TelLiveDataTest
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ACTS Live Telephony Docs" class="md-nav__button md-logo" aria-label="ACTS Live Telephony Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ACTS Live Telephony Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveCBRSTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveCBRSTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveCellInfoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveCellInfoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorBaseTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorBaseTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveConnectivityMonitorTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveConnectivityMonitorTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    TelLiveDataTest
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TelLiveDataTest
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveDataTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveDataTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveDataTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_2g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_2g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_data_connectivity_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_data_connectivity_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_airplane_mode" class="md-nav__link">
    <span class="md-ellipsis">
      test_airplane_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_apm_toggle_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_toggle_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_3g_to_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_change_rat_during_active_wifi_tethering_3g_to_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_lte_to_3g" class="md-nav__link">
    <span class="md-ellipsis">
      test_change_rat_during_active_wifi_tethering_lte_to_3g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_reboot_start_tethering_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_connect_wifi_reboot_start_tethering_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_start_tethering_wifi_reboot" class="md-nav__link">
    <span class="md-ellipsis">
      test_connect_wifi_start_tethering_wifi_reboot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_browsing_for_single_phone" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_browsing_for_single_phone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_cellular" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_detection_cellular
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_detection_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_recovery_cellular" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_recovery_cellular
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_data_on_non_active_data_sim" class="md-nav__link">
    <span class="md-ellipsis">
      test_disable_data_on_non_active_data_sim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_wifi_tethering_resume_connected_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_disable_wifi_tethering_resume_connected_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_stress_default" class="md-nav__link">
    <span class="md-ellipsis">
      test_file_download_stress_default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_with_mobile_data_usage_limit_set" class="md-nav__link">
    <span class="md-ellipsis">
      test_file_download_with_mobile_data_usage_limit_set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mo" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_multi_bearer_mo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mt" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_multi_bearer_mt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_multi_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_multi_bearer_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_switching_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_cell_data_switch_to_wifi_switch_data_sim_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_msim_cell_data_switch_to_wifi_switch_data_sim_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_switch_data_sim_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_msim_switch_data_sim_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network" class="md-nav__link">
    <span class="md-ellipsis">
      test_sync_time_from_network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network_data_off" class="md-nav__link">
    <span class="md-ellipsis">
      test_sync_time_from_network_data_off
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_2gwifi_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_toggle_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_default_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_default_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_entitlement_check" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_entitlement_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_2g_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_rat_from_4g_to_2g_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_3g_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_rat_from_4g_to_3g_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_3g_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_3g_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_csfb_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_csfb_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_no_password" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_no_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password_escaping_characters" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_password_escaping_characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_reboot" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_reboot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_screen_off_enable_doze_mode" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_screen_off_enable_doze_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_ssid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid_quotes" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_ssid_quotes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_volte_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_volte_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_apm_during_active_wifi_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_toggle_apm_during_active_wifi_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_data_during_active_wifi_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_toggle_data_during_active_wifi_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_multi_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_multi_bearer_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_browsing_for_single_phone" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_browsing_for_single_phone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_3g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_3g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_4g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_4g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_msim_switch_data_sim" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_msim_switch_data_sim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveEmergencyTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveEmergencyTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSDDSSwitchTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSDDSSwitchTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSMessageTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSMessageTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTDSDSWfcSupplementaryServiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTDSDSWfcSupplementaryServiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveGFTRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveGFTRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveImsSettingsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveImsSettingsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveLockedSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveLockedSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveMobilityStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveMobilityStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoQXDMLogTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoQXDMLogTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveNoSimTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveNoSimTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePostflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePostflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLivePreflightTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLivePreflightTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveProjectFiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveProjectFiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRcsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRcsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRebootStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRebootStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilCstVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilCstVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilDataKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilDataKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilImsKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilImsKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveRilMessageKpiTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveRilMessageKpiTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSettingsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSettingsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmokeTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmokeTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressCallTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressCallTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressFdrTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressFdrTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressSmsTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressSmsTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveStressTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveStressTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceConfTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceConfTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelLiveVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelLiveVoiceTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiDataTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiDataTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVideoTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVideoTest
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../TelWifiVoiceTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelWifiVoiceTest
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveDataTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest" class="md-nav__link">
    <span class="md-ellipsis">
      TelLiveDataTest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TelLiveDataTest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_2g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_2g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_data_connectivity_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_3g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_data_connectivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_data_connectivity_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_wifi_not_associated" class="md-nav__link">
    <span class="md-ellipsis">
      test_4g_wifi_not_associated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_airplane_mode" class="md-nav__link">
    <span class="md-ellipsis">
      test_airplane_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_apm_toggle_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_apm_toggle_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_3g_to_lte" class="md-nav__link">
    <span class="md-ellipsis">
      test_change_rat_during_active_wifi_tethering_3g_to_lte
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_lte_to_3g" class="md-nav__link">
    <span class="md-ellipsis">
      test_change_rat_during_active_wifi_tethering_lte_to_3g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_reboot_start_tethering_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_connect_wifi_reboot_start_tethering_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_start_tethering_wifi_reboot" class="md-nav__link">
    <span class="md-ellipsis">
      test_connect_wifi_start_tethering_wifi_reboot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_browsing_for_single_phone" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_browsing_for_single_phone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_cellular" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_detection_cellular
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_detection_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_recovery_cellular" class="md-nav__link">
    <span class="md-ellipsis">
      test_data_stall_recovery_cellular
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_data_on_non_active_data_sim" class="md-nav__link">
    <span class="md-ellipsis">
      test_disable_data_on_non_active_data_sim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_wifi_tethering_resume_connected_wifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_disable_wifi_tethering_resume_connected_wifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_stress_default" class="md-nav__link">
    <span class="md-ellipsis">
      test_file_download_stress_default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_with_mobile_data_usage_limit_set" class="md-nav__link">
    <span class="md-ellipsis">
      test_file_download_with_mobile_data_usage_limit_set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mo" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_multi_bearer_mo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mt" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_multi_bearer_mt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_gsm_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_multi_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_multi_bearer_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_lte_wifi_switching_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_cell_data_switch_to_wifi_switch_data_sim_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_msim_cell_data_switch_to_wifi_switch_data_sim_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_switch_data_sim_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_msim_switch_data_sim_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network" class="md-nav__link">
    <span class="md-ellipsis">
      test_sync_time_from_network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network_data_off" class="md-nav__link">
    <span class="md-ellipsis">
      test_sync_time_from_network_data_off
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_2g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_3g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_2gwifi_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_data" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_toggle_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_toggle_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_with_voice_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_4g_to_bluetooth_with_voice_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_2gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_default_to_2gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_5gwifi" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_default_to_5gwifi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_entitlement_check" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_entitlement_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_2g_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_rat_from_4g_to_2g_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_3g_bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_rat_from_4g_to_3g_bluetooth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_3g_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_3g_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_csfb_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_csfb_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_no_password" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_no_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password_escaping_characters" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_password_escaping_characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_reboot" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_reboot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_screen_off_enable_doze_mode" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_screen_off_enable_doze_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_ssid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid_quotes" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_ssid_quotes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_volte_call" class="md-nav__link">
    <span class="md-ellipsis">
      test_tethering_wifi_volte_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_apm_during_active_wifi_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_toggle_apm_during_active_wifi_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_data_during_active_wifi_tethering" class="md-nav__link">
    <span class="md-ellipsis">
      test_toggle_data_during_active_wifi_tethering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_multi_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer_stress" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_multi_bearer_stress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_wifi_switching" class="md-nav__link">
    <span class="md-ellipsis">
      test_wcdma_wifi_switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_browsing_for_single_phone" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_browsing_for_single_phone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_2g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_2g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_3g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_3g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_4g" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_connect_disconnect_4g
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_msim_switch_data_sim" class="md-nav__link">
    <span class="md-ellipsis">
      test_wifi_tethering_msim_switch_data_sim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>TelLiveDataTest</h1>

<div class="doc doc-object doc-module">



<a id="tests.google.tel.live.TelLiveDataTest"></a>
    <div class="doc doc-contents first">

      <p>Test Script for Telephony Pre Check In Sanity</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest" class="doc doc-heading">
            <code>TelLiveDataTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="acts_contrib.test_utils.tel.TelephonyBaseTest.TelephonyBaseTest">TelephonyBaseTest</span></code></p>


              <details class="quote">
                <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span>
<span class="normal">2719</span>
<span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span>
<span class="normal">2726</span>
<span class="normal">2727</span>
<span class="normal">2728</span>
<span class="normal">2729</span>
<span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span>
<span class="normal">2763</span>
<span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span>
<span class="normal">2773</span>
<span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span>
<span class="normal">2813</span>
<span class="normal">2814</span>
<span class="normal">2815</span>
<span class="normal">2816</span>
<span class="normal">2817</span>
<span class="normal">2818</span>
<span class="normal">2819</span>
<span class="normal">2820</span>
<span class="normal">2821</span>
<span class="normal">2822</span>
<span class="normal">2823</span>
<span class="normal">2824</span>
<span class="normal">2825</span>
<span class="normal">2826</span>
<span class="normal">2827</span>
<span class="normal">2828</span>
<span class="normal">2829</span>
<span class="normal">2830</span>
<span class="normal">2831</span>
<span class="normal">2832</span>
<span class="normal">2833</span>
<span class="normal">2834</span>
<span class="normal">2835</span>
<span class="normal">2836</span>
<span class="normal">2837</span>
<span class="normal">2838</span>
<span class="normal">2839</span>
<span class="normal">2840</span>
<span class="normal">2841</span>
<span class="normal">2842</span>
<span class="normal">2843</span>
<span class="normal">2844</span>
<span class="normal">2845</span>
<span class="normal">2846</span>
<span class="normal">2847</span>
<span class="normal">2848</span>
<span class="normal">2849</span>
<span class="normal">2850</span>
<span class="normal">2851</span>
<span class="normal">2852</span>
<span class="normal">2853</span>
<span class="normal">2854</span>
<span class="normal">2855</span>
<span class="normal">2856</span>
<span class="normal">2857</span>
<span class="normal">2858</span>
<span class="normal">2859</span>
<span class="normal">2860</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TelLiveDataTest</span><span class="p">(</span><span class="n">TelephonyBaseTest</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setup_class</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stress_test_number</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">setup_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">TelephonyBaseTest</span><span class="o">.</span><span class="n">setup_test</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="nf">teardown_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">TelephonyBaseTest</span><span class="o">.</span><span class="n">teardown_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


<span class="w">    </span><span class="sd">&quot;&quot;&quot; Tests Begin &quot;&quot;&quot;</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ba24f9a3-0126-436c-8a5c-9f88859c273c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_data_browsing_for_single_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Browsing websites on cellular.</span>

<span class="sd">        Ensure phone attach, data on, WiFi off</span>
<span class="sd">        Verify 5 websites on cellular.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Attempt </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test PASS in iteration </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_ANDROID_STATE_SETTLING</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test FAIL for all 3 iterations&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0679214b-9002-476d-83a7-3532b3cca209&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_browsing_for_single_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Browsing websites on wifi.</span>

<span class="sd">        Ensure phone attach, data on, WiFi On, WiFi Connected.</span>
<span class="sd">        Verify 5 websites on WiFi.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi connect fail.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Attempt </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test PASS in iteration </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_ANDROID_STATE_SETTLING</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test FAIL for all 3 iterations&quot;</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1b0354f3-8668-4a28-90a5-3b3d2b2756d3&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_airplane_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test airplane mode basic on Phone and Live SIM.</span>

<span class="sd">        Ensure phone attach, data on, WiFi off and verify Internet.</span>
<span class="sd">        Turn on airplane mode to make sure detach.</span>
<span class="sd">        Turn off airplane mode to make sure attach.</span>
<span class="sd">        Verify Internet connection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">airplane_mode_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;47430f01-583f-4efb-923a-285a51b75d50&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on LTE.</span>

<span class="sd">        Ensure phone is camped on LTE</span>
<span class="sd">        Ensure WiFi can connect to live network,</span>
<span class="sd">        Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">        Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_4G</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;98d9f8c9-0532-49b6-85a3-5246b8314755&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_wifi_switching_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;LTE WiFi Switching Data Connection Check</span>

<span class="sd">        Same steps as test_lte_wifi_switching with stress testing</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
        <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">ensure_phones_default_state</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

            <span class="k">if</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_4G</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
                <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a836cf1-600b-4cf3-abfe-2e3da5c11396&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wcdma_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on WCDMA.</span>

<span class="sd">        Ensure phone is camped on WCDMA</span>
<span class="sd">        Ensure WiFi can connect to live network,</span>
<span class="sd">        Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">        Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_3G</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c016f2e8-0af6-42e4-a3cb-a2b7d8b564d0&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_gsm_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on GSM.</span>

<span class="sd">        Ensure phone is camped on GSM</span>
<span class="sd">        Ensure WiFi can connect to live network,,</span>
<span class="sd">        Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">        Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">        Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_2G</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;78d6b258-82d4-47b4-8723-3b3a15412d2d&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test LTE data connection before call and in call. (VoLTE call)</span>


<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Make sure phone in LTE, verify Internet.</span>
<span class="sd">        Initiate a voice call. verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>
<span class="sd">        Hangup Voice Call, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;volte&#39;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5c9cb076-0c26-4517-95dc-2ec4974e8ce3&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wcdma_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test WCDMA data connection before call and in call.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Make sure phone in WCDMA, verify Internet.</span>
<span class="sd">        Initiate a voice call. verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>
<span class="sd">        Hangup Voice Call, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;3g&#39;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;314bbf1c-073f-4d48-9817-a6e14f96f3c0&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_gsm_multi_bearer_mo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test gsm data connection before call and in call.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Make sure phone in GSM, verify Internet.</span>
<span class="sd">        Initiate a MO voice call. Verify there is no Internet during call.</span>
<span class="sd">        Hangup Voice Call, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;2g&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;549271ff-1034-4d02-8d92-b9d1b2bb912e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_gsm_multi_bearer_mt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test gsm data connection before call and in call.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Make sure phone in GSM, verify Internet.</span>
<span class="sd">        Initiate a MT voice call. Verify there is no Internet during call.</span>
<span class="sd">        Hangup Voice Call, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;2g&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;111de471-559a-4bc3-9d3e-de18f098c162&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wcdma_multi_bearer_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stress Test WCDMA data connection before call and in call.</span>

<span class="sd">        This is a stress test for &quot;test_wcdma_multi_bearer&quot;.</span>
<span class="sd">        Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">            False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
        <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

            <span class="n">ensure_phones_default_state</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_wcdma_multi_bearer</span><span class="p">():</span>
                <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c7f14ba7-7ac3-45d2-b391-5ed5c4b0e70b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_lte_multi_bearer_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stress Test LTE data connection before call and in call. (VoLTE call)</span>

<span class="sd">        This is a stress test for &quot;test_lte_multi_bearer&quot;.</span>
<span class="sd">        Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">            False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span>
        <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
        <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

            <span class="n">ensure_phones_default_state</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_lte_multi_bearer</span><span class="p">():</span>
                <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;dcb9bdc6-dbe2-47e1-9c2d-6f37c529d366&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_2g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 2G.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 2G.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_2G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;84197a49-d73f-44ce-8b9e-9479e5c4dfdc&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_2g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 2G.</span>

<span class="sd">        Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 2G.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_2G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;97067ebb-130a-4fcb-8e6b-f4ec5874828f&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 3G.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 3G.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ffe2a392-95b8-4a4d-8a6f-bfa846c3462f&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 3G.</span>

<span class="sd">        Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 3G.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9c2f459f-1aac-4c68-818b-8698e8124c8b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_4g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 4g.</span>

<span class="sd">        Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 4g.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;015a39a1-15ac-4b76-962b-d7d82d52d425&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_4g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test data connection in 4g.</span>

<span class="sd">        Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">        Ensure phone data generation is 4g.</span>
<span class="sd">        Verify Internet.</span>
<span class="sd">        Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">        Enable Cellular Data, verify Internet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;44f47b64-f8bc-4a17-9195-42dcca0806bb&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_3g_data_connectivity_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stress Test data connection in 3G.</span>

<span class="sd">        This is a stress test for &quot;test_3g&quot;.</span>
<span class="sd">        Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">            False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
        <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

            <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
            <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">):</span>
                <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c8876388-0441-4a51-81e6-ac2cb358a531&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_4g_data_connectivity_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stress Test data connection in 4g.</span>

<span class="sd">        This is a stress test for &quot;test_4g&quot;.</span>
<span class="sd">        Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">            False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
        <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

            <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
            <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">):</span>
                <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
        <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;2d945656-22f7-4610-9a84-40ce04d603a4&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider bluetooth connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8d2ae56b-c2c1-4c32-9b8e-5044007b5b90&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b4617727-fa83-4451-89d7-7e574c0a0938&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider data connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;6a0f6001-609d-41f2-ad09-c8ae19f73ac8&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_toggle_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider bluetooth tethering</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b1abc1ac-8018-4956-a17e-bf2ceaf264ea&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetoothing Tethering</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider bluetooth connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;69793745-0c49-4cef-9879-d372e3a3f4c7&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4275ee69-dfdf-4f47-82c5-4224fceee761&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetoothing Tethering</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider data connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;db0e0f27-1a4f-4301-832d-b66415e289f3&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 2G mode, idle.</span>
<span class="sd">        2. DUT start bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider bluetooth connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;setprop persist.bluetooth.btsnoopenable true&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to toggle airplane mode on&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to toggle airplane mode off&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;584e9fa5-a38e-47cd-aa33-fcf8d72c423e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 2G mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;be3e74f9-3dc8-4b72-8a33-32bff0868a44&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 2G mode, idle.</span>
<span class="sd">        2. DUT start Bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Toggle provider data connection</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4a106549-0bfa-4c8f-8e66-edec93fabadf&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_rat_from_4g_to_3g_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 4G mode, idle.</span>
<span class="sd">        2. DUT start bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Change provider RAT to 3G</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">change_rat</span><span class="o">=</span><span class="n">RAT_3G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;eaa5b61b-f054-437f-ae82-8d80f6487785&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_rat_from_4g_to_2g_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">        1. DUT in 4G mode, idle.</span>
<span class="sd">        2. DUT start bluetooth Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Change provider RAT to 2G</span>
<span class="sd">        6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">change_rat</span><span class="o">=</span><span class="n">RAT_2G</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;912a11a3-14b3-4928-885f-cea69f14a571&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: LTE to WiFI 2.4G Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;743e3998-d39f-42b9-b11f-009dcee34f3f&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: LTE to WiFI 5G Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start 5G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c1a16464-3800-40d3-ba63-35db784e0383&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_default_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Default to WiFI 5G Tethering</span>

<span class="sd">        1. DUT in default mode, idle.</span>
<span class="sd">        2. DUT start 5G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. True: Stop</span>
<span class="sd">           False: Change DUT to next device and repeat until find the device</span>
<span class="sd">                  with tethering capability</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if no device has tethering capability.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ad</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[:</span>
                                                <span class="n">idx</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span>
                                                                            <span class="o">+</span>
                                                                            <span class="mi">1</span><span class="p">:]</span>
            <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data connection check failed.&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">carrierConfigIsTetheringModeAllowed</span><span class="p">(</span>
                    <span class="n">TETHERING_MODE_WIFI</span><span class="p">,</span>
                    <span class="n">MAX_WAIT_TIME_TETHERING_ENTITLEMENT_CHECK</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tethering is not entitled&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Tethering is not working on all devices&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Failed to enable tethering on any device in this testbed&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span>
            <span class="s2">&quot;Tethering is not available on all devices in this testbed&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c9a570b0-838c-44ba-991c-f1ddeee21f3c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_default_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Default to WiFI 2G Tethering</span>

<span class="sd">        1. DUT in default mode, idle.</span>
<span class="sd">        2. DUT start 2G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. True: Stop</span>
<span class="sd">           False: Change DUT to next device and repeat until find the device</span>
<span class="sd">                  with tethering capability</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if no device has tethering capability.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ad</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[:</span>
                                                <span class="n">idx</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span>
                                                                            <span class="o">+</span>
                                                                            <span class="mi">1</span><span class="p">:]</span>
            <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data connection check failed.&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">carrierConfigIsTetheringModeAllowed</span><span class="p">(</span>
                    <span class="n">TETHERING_MODE_WIFI</span><span class="p">,</span>
                    <span class="n">MAX_WAIT_TIME_TETHERING_ENTITLEMENT_CHECK</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tethering is not entitled&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Tethering is not working on all devices&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Failed to enable tethering on any device in this testbed&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span>
            <span class="s2">&quot;Tethering is not available on all devices in this testbed&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;59be8d68-f05b-4448-8584-de971174fd81&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_3g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G to WiFI 2.4G Tethering</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1be6b741-92e8-4ee1-9f59-e7f9f369b065&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_3g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G to WiFI 5G Tethering</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start 5G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;89fe6321-4c0d-40c0-89b2-54008ecca68f&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_2g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 2G to WiFI 2.4G Tethering</span>

<span class="sd">        1. DUT in 2G mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b8258d51-9581-4d52-80b6-501941ec1191&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_2g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 2G to WiFI 5G Tethering</span>

<span class="sd">        1. DUT in 2G mode, idle.</span>
<span class="sd">        2. DUT start 5G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8ed766a6-71c5-4b3b-8897-a4e796c75619&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_disable_wifi_tethering_resume_connected_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: WiFI connected to 2.4G network,</span>
<span class="sd">        start (LTE) 2.4G WiFi tethering, then stop tethering</span>

<span class="sd">        1. DUT in data connected, idle. WiFi connected to 2.4G Network</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Disable WiFi Tethering on DUT.</span>
<span class="sd">        6. Verify DUT automatically connect to previous WiFI network</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Ensure provider connecting to wifi network.</span>
        <span class="k">def</span> <span class="nf">setup_provider_internet_connection</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">setup_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connection</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_and_verify_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b879ceb2-1b80-4762-93f9-afef4d688c28&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_toggle_data_during_active_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Toggle Data during active WiFi Tethering</span>

<span class="sd">        1. DUT data connection is on and idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Disable Data on DUT, verify PhoneB still connected to WiFi, but no Internet access.</span>
<span class="sd">        6. Enable Data on DUT, verify PhoneB still connected to WiFi and have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_toggle_data_during_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Invalid Live Test. Can&#39;t rely on the result of this test with live network.</span>
    <span class="c1"># Network may decide not to change the RAT when data conenction is active.</span>
    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c92a961b-e85d-435c-8988-052928add591&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_change_rat_during_active_wifi_tethering_lte_to_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Change Cellular Data RAT generation from LTE to 3G,</span>
<span class="sd">            during active WiFi Tethering.</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verily Internet access on DUT and PhoneB</span>
<span class="sd">        5. Change DUT Cellular Data RAT generation from LTE to 3G.</span>
<span class="sd">        6. Verify both DUT and PhoneB have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provider change RAT from LTE to 3G.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                    <span class="n">RAT_3G</span><span class="p">,</span>
                    <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">,</span>
                    <span class="n">toggle_apm_after_setting</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider failed to reselect to 3G.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_DATA_STATUS_CHANGE_DURING_WIFI_TETHERING</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data not available on Provider.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">tethering_check_internet_connection</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Invalid Live Test. Can&#39;t rely on the result of this test with live network.</span>
    <span class="c1"># Network may decide not to change the RAT when data conenction is active.</span>
    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;eb5f0180-b70d-436f-8fcb-60c59307cc43&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_change_rat_during_active_wifi_tethering_3g_to_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Change Cellular Data RAT generation from 3G to LTE,</span>
<span class="sd">            during active WiFi Tethering.</span>

<span class="sd">        1. DUT in 3G mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verily Internet access on DUT and PhoneB</span>
<span class="sd">        5. Change DUT Cellular Data RAT generation from 3G to LTE.</span>
<span class="sd">        6. Verify both DUT and PhoneB have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provider change RAT from 3G to 4G.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                    <span class="n">RAT_4G</span><span class="p">,</span>
                    <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">,</span>
                    <span class="n">toggle_apm_after_setting</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider failed to reselect to 4G.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_DATA_STATUS_CHANGE_DURING_WIFI_TETHERING</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data not available on Provider.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">tethering_check_internet_connection</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]]):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;12a6c910-fa96-4d9b-99a5-8391fea33732&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_toggle_apm_during_active_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Toggle APM during active WiFi Tethering</span>

<span class="sd">        1. DUT in LTE mode, idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. DUT toggle APM on, verify WiFi tethering stopped, PhoneB lost WiFi connection.</span>
<span class="sd">        6. DUT toggle APM off, verify PhoneA have cellular data and Internet connection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ssid</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">ssid</span><span class="o">=</span><span class="n">ssid</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_toggle_apm_tethering_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                                                   <span class="n">ssid</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;037e80fc-6eab-4cd1-846a-b9780a1d502d&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_entitlement_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tethering Entitlement Check Test</span>

<span class="sd">        Get tethering entitlement check result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if entitlement check returns True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">verify_tethering_entitlement_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4972826e-39ea-42f7-aae0-06fe3aa9ecc6&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_4g_to_2gwifi_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stress Test LTE to WiFI 2.4G Tethering</span>

<span class="sd">        This is a stress test for &quot;test_tethering_4g_to_2gwifi&quot;.</span>
<span class="sd">        Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">            False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">precondition</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">test_case</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                       <span class="n">RAT_4G</span><span class="p">,</span>
                                       <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                       <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                       <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">run_stress_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">,</span> <span class="n">precondition</span><span class="p">,</span> <span class="n">test_case</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;54e85aed-09e3-42e2-bb33-bca1005d93ab&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_ssid_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: SSID name have quotes.</span>
<span class="sd">        1. Set SSID name have double quotes.</span>
<span class="sd">        2. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">        3. Verify tethering.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ssid</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting WiFi Tethering test with ssid: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">ssid</span><span class="o">=</span><span class="n">ssid</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;320326da-bf32-444d-81f9-f781c55dbc99&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_password_escaping_characters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: password have escaping characters.</span>
<span class="sd">        1. Set password have escaping characters.</span>
<span class="sd">            e.g.: &#39;&quot;DQ=/{Yqq;M=(^_3HzRvhOiL8S%`]w&amp;l&lt;Qp8qH)bs&lt;4E9v_q=HLr^)}w$blA0Kg&#39;</span>
<span class="sd">        2. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">        3. Verify tethering.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">password</span> <span class="o">=</span> <span class="n">TETHERING_PASSWORD_HAS_ESCAPE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting WiFi Tethering test with password: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">password</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;617c7e71-f166-465f-bfd3-b5a3a40cc0d4&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_ssid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: start WiFi tethering with all kinds of SSIDs.</span>

<span class="sd">        For each listed SSID, start WiFi tethering on DUT, client connect WiFi,</span>
<span class="sd">        then tear down WiFi tethering.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if WiFi tethering succeed on all SSIDs.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Setup Failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">ssid_list</span> <span class="o">=</span> <span class="n">TETHERING_SPECIAL_SSID_LIST</span>
        <span class="n">fail_list</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">ssid</span> <span class="ow">in</span> <span class="n">ssid_list</span><span class="p">:</span>
            <span class="n">password</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SSID: &lt;</span><span class="si">{}</span><span class="s2">&gt;, Password: &lt;</span><span class="si">{}</span><span class="s2">&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_start_wifi_tethering_connect_teardown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                          <span class="n">ssid</span><span class="p">,</span>
                                                          <span class="n">password</span><span class="p">):</span>
                <span class="n">fail_list</span><span class="p">[</span><span class="n">ssid</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fail_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed cases: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fail_list</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9a5b5a34-b5cf-451d-94c4-8a64d456dfe5&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: start WiFi tethering with all kinds of passwords.</span>

<span class="sd">        For each listed password, start WiFi tethering on DUT, client connect WiFi,</span>
<span class="sd">        then tear down WiFi tethering.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if WiFi tethering succeed on all passwords.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Setup Failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">password_list</span> <span class="o">=</span> <span class="n">TETHERING_SPECIAL_PASSWORD_LIST</span>
        <span class="n">fail_list</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">password</span> <span class="ow">in</span> <span class="n">password_list</span><span class="p">:</span>
            <span class="n">ssid</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SSID: &lt;</span><span class="si">{}</span><span class="s2">&gt;, Password: &lt;</span><span class="si">{}</span><span class="s2">&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_start_wifi_tethering_connect_teardown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                          <span class="n">ssid</span><span class="p">,</span>
                                                          <span class="n">password</span><span class="p">):</span>
                <span class="n">fail_list</span><span class="p">[</span><span class="n">ssid</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fail_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed cases: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fail_list</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;216bdb8c-edbf-4ff8-8750-a0861ab44df6&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_volte_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: VoLTE call during WiFi tethering</span>
<span class="sd">        1. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">        2. Verify tethering.</span>
<span class="sd">        3. Make outgoing VoLTE call on tethering provider.</span>
<span class="sd">        4. Verify tethering still works.</span>
<span class="sd">        5. Make incoming VoLTE call on tethering provider.</span>
<span class="sd">        6. Verify tethering still works.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">RAT_4G</span><span class="p">,</span> <span class="n">phone_setup_volte</span><span class="p">,</span> <span class="n">is_phone_in_call_volte</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;bcd430cc-6d33-47d1-825d-aae9f248addc&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_csfb_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: CSFB call during WiFi tethering</span>
<span class="sd">        1. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">        2. Verify tethering.</span>
<span class="sd">        3. Make outgoing CSFB call on tethering provider.</span>
<span class="sd">        4. Verify tethering still works.</span>
<span class="sd">        5. Make incoming CSFB call on tethering provider.</span>
<span class="sd">        6. Verify tethering still works.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">RAT_4G</span><span class="p">,</span> <span class="n">phone_setup_csfb</span><span class="p">,</span> <span class="n">is_phone_in_call_csfb</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;19e0df23-6819-4c69-bfda-eea9cce802d8&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_3g_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G call during WiFi tethering</span>
<span class="sd">        1. Start 3G to WiFi (2.4G) tethering.</span>
<span class="sd">        2. Verify tethering.</span>
<span class="sd">        3. Make outgoing CS call on tethering provider.</span>
<span class="sd">        4. Verify tethering still works.</span>
<span class="sd">        5. Make incoming CS call on tethering provider.</span>
<span class="sd">        6. Verify tethering still works.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
            <span class="n">RAT_3G</span><span class="p">,</span> <span class="n">phone_setup_voice_3g</span><span class="p">,</span> <span class="n">is_phone_in_call_3g</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4acd98b5-fdef-4736-969f-3fa953990a58&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_no_password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering with no password</span>

<span class="sd">        1. DUT is idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering, with no WiFi password.</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
            <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;86ad1680-bfb8-457e-8b4d-23321cb3f223&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering then Reboot device</span>

<span class="sd">        1. DUT is idle.</span>
<span class="sd">        2. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">        3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        5. Reboot DUT</span>
<span class="sd">        6. After DUT reboot, verify tethering is stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                       <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                       <span class="kc">None</span><span class="p">,</span>
                                       <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                       <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                       <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                       <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_wifi_tethering_when_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5cf04ca2-dfde-43d6-be74-78b9abdf6c26&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_connect_wifi_start_tethering_wifi_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: WiFI connected, then start WiFi tethering,</span>
<span class="sd">            then reboot device.</span>

<span class="sd">        Initial Condition: DUT in 4G mode, idle, DUT connect to WiFi.</span>
<span class="sd">        1. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">        2. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        3. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        4. Reboot DUT</span>
<span class="sd">        5. After DUT reboot, verify tethering is stopped. DUT is able to connect</span>
<span class="sd">            to previous WiFi AP.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Ensure provider connecting to wifi network.</span>
        <span class="k">def</span> <span class="nf">setup_provider_internet_connection</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">setup_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

        <span class="c1"># wait for provider connecting to wifi network and verify</span>
        <span class="c1"># internet connection is working.</span>
        <span class="k">def</span> <span class="nf">wait_and_verify_internet_connection</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">wait_and_verify_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                              <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                       <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                       <span class="kc">None</span><span class="p">,</span>
                                       <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                       <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                       <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                       <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                       <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connection</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_wifi_tethering_when_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                     <span class="n">post_reboot_func</span><span class="o">=</span><span class="n">wait_and_verify_internet_connection</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;e0621997-c5bd-4137-afa6-b43406e9c713&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_connect_wifi_reboot_start_tethering_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: DUT connected to WiFi, then reboot,</span>
<span class="sd">        After reboot, start WiFi tethering, verify tethering actually works.</span>

<span class="sd">        Initial Condition: Device set to 4G mode, idle, DUT connect to WiFi.</span>
<span class="sd">        1. Verify Internet is working on DUT (by WiFi).</span>
<span class="sd">        2. Reboot DUT.</span>
<span class="sd">        3. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">        4. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">        5. Verify Internet access on DUT and PhoneB</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Ensure provider connecting to wifi network and then reboot.</span>
        <span class="k">def</span> <span class="nf">setup_provider_internet_connect_then_reboot</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">setup_device_internet_connection_then_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connect_then_reboot</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;89a849ef-e2ed-4bf2-ac31-81d34aba672a&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_tethering_wifi_screen_off_enable_doze_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering, then turn off DUT&#39;s screen,</span>
<span class="sd">            then enable doze mode, verify internet connection.</span>

<span class="sd">        1. Start WiFi tethering on DUT.</span>
<span class="sd">        2. PhoneB disable data, and connect to DUT&#39;s softAP</span>
<span class="sd">        3. Verify Internet access on DUT and PhoneB</span>
<span class="sd">        4. Turn off DUT&#39;s screen. Wait for 1 minute and</span>
<span class="sd">            verify Internet access on Client PhoneB.</span>
<span class="sd">        5. Enable doze mode on DUT. Wait for 1 minute and</span>
<span class="sd">            verify Internet access on Client PhoneB.</span>
<span class="sd">        6. Disable doze mode and turn off wifi tethering on DUT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                       <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                       <span class="kc">None</span><span class="p">,</span>
                                       <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                       <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                       <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                       <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection_in_doze_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                           <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                           <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                          <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]]):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;695eef18-f759-4b41-8ad3-1fb329ee4b1b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_msim_switch_data_sim_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Data on default Data SIM.</span>
<span class="sd">        2. Switch Data to another SIM. Make sure data is still available.</span>
<span class="sd">        3. Switch Data back to previous SIM. Make sure data is still available.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data on Cell</span>
<span class="sd">        2. Verify Data on Wifi</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
        <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
            <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
            <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
        <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                                     <span class="n">next_sim_slot_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="n">ad</span><span class="p">,</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_2G</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data to subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">next_data_sub_id</span><span class="p">,</span> <span class="n">next_sim_slot_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                               <span class="n">next_sim_slot_index</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">current_data_sub_id</span>
        <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">current_sim_slot_index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data back to subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">next_data_sub_id</span><span class="p">,</span> <span class="n">next_sim_slot_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                               <span class="n">next_sim_slot_index</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9b8e92da-0ae1-472c-a72a-f6427e5405ce&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_4g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">            data switches between WiFi and Cell.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT Cellular Data is on 4G. Reset Wifi on DUT</span>
<span class="sd">        2. Connect DUT to a WiFi AP</span>
<span class="sd">        3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data on Cell</span>
<span class="sd">        2. Verify Data on Wifi</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_4G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;09893b1f-a4a2-49d3-8027-c2c91cb8742e&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">            data switches between WiFi and Cell.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT Cellular Data is on 3G. Reset Wifi on DUT</span>
<span class="sd">        2. Connect DUT to a WiFi AP</span>
<span class="sd">        3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data on Cell</span>
<span class="sd">        2. Verify Data on Wifi</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_3G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0f095ca4-ce05-458f-9670-49a69f8c8270&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">            data switches between WiFi and Cell.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT Cellular Data is on 2G. Reset Wifi on DUT</span>
<span class="sd">        2. Connect DUT to a WiFi AP</span>
<span class="sd">        3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data on Cell</span>
<span class="sd">        2. Verify Data on Wifi</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_wifi_tethering_enabled_add_voice_call</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">network_generation</span><span class="p">,</span> <span class="n">voice_call_direction</span><span class="p">,</span>
            <span class="n">is_data_available_during_call</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tethering enabled + voice call.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT data is on &lt;network_generation&gt;. Start WiFi Tethering.</span>
<span class="sd">        2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">        3. DUT make a MO/MT (&lt;voice_call_direction&gt;) phone call.</span>
<span class="sd">        4. DUT end phone call.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. DUT is able to start WiFi tethering.</span>
<span class="sd">        2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">        3. DUT WiFi tethering is still on. Phone call works OK.</span>
<span class="sd">            If is_data_available_during_call is True, then PhoneB still has</span>
<span class="sd">            Internet access.</span>
<span class="sd">            Else, then Data is suspend, PhoneB has no Internet access.</span>
<span class="sd">        4. WiFi Tethering still on, voice call stopped, and PhoneB have Internet</span>
<span class="sd">            access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">network_generation</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Start WiFi Tethering</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Make a voice call</span>
            <span class="k">if</span> <span class="n">voice_call_direction</span> <span class="o">==</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">:</span>
                <span class="n">ad_caller</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span>
                <span class="n">ad_callee</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad_caller</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">ad_callee</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">call_setup_teardown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad_caller</span><span class="p">,</span> <span class="n">ad_callee</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
                                       <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to Establish </span><span class="si">{}</span><span class="s2"> Voice Call&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">voice_call_direction</span><span class="p">))</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Tethering should still be on.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_data_available_during_call</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">verify_internet_connection</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">retry</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Client should not have Internet Access.&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Client should have Internet Access.&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Hangup call. Client should have data.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">hangup_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to hang up call&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Client should have Internet Access.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="n">stop_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4d7a68c6-5eae-4242-a6e6-668f830caec3&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tethering enabled + voice call</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on &lt;Data SIM&gt;</span>
<span class="sd">        2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">        3. DUT make a mo phone call on &lt;Voice SIM&gt;</span>
<span class="sd">        4. DUT end phone call.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. DUT is able to start WiFi tethering.</span>
<span class="sd">        2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">        3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,</span>
<span class="sd">            PhoneB still connected to DUT&#39;s softAP, but no data available.</span>
<span class="sd">        4. DUT data resumes, and PhoneB have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_wifi_tethering_enabled_add_voice_call</span><span class="p">(</span>
            <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;de720069-a46c-4a6f-ae80-60b9349c8528&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tethering enabled + voice call</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on &lt;Data SIM&gt;</span>
<span class="sd">        2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">        3. DUT make a mt phone call on &lt;Voice SIM&gt;</span>
<span class="sd">        4. DUT end phone call.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. DUT is able to start WiFi tethering.</span>
<span class="sd">        2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">        3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,</span>
<span class="sd">            PhoneB still connected to DUT&#39;s softAP, but no data available.</span>
<span class="sd">        4. DUT data resumes, and PhoneB have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_wifi_tethering_enabled_add_voice_call</span><span class="p">(</span>
            <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;fad169c0-8ae6-45d2-98ba-3fb60466ff0b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_wifi_tethering_msim_switch_data_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tethering enabled + switch data SIM.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Start WiFi Tethering on &lt;Default Data SIM&gt;</span>
<span class="sd">        2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">        3. DUT change Default Data SIM.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. DUT is able to start WiFi tethering.</span>
<span class="sd">        2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">        3. DUT Data changed to 2nd SIM, WiFi tethering should continues,</span>
<span class="sd">            PhoneB should have Internet access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(</span>
        <span class="p">)</span>
        <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">%s</span><span class="s2">, SIM slot: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                               <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Start WiFi Tethering</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                    <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                <span class="n">next_sim_slot_index</span> <span class="o">=</span> \
                    <span class="p">{</span><span class="n">SIM1_SLOT_INDEX</span> <span class="p">:</span> <span class="n">SIM2_SLOT_INDEX</span><span class="p">,</span>
                     <span class="n">SIM2_SLOT_INDEX</span> <span class="p">:</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">}[</span><span class="n">current_sim_slot_index</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Change Data to SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">next_sim_slot_index</span><span class="p">))</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                       <span class="n">next_sim_slot_index</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">next_sim_slot_index</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Client should have Internet Access.&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
                <span class="n">stop_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8bb9383f-ddf9-400c-a831-c9462bae6b47&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_msim_cell_data_switch_to_wifi_switch_data_sim_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Data on default Data SIM.</span>
<span class="sd">        2. Turn on WiFi, then data should be on WiFi.</span>
<span class="sd">        3. Switch Data to another SIM. Disable WiFi.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data on Cell</span>
<span class="sd">        2. Verify Data on WiFi</span>
<span class="sd">        3. After WiFi disabled, Cell Data is available on 2nd SIM.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
        <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
            <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
            <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
        <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                                     <span class="n">next_sim_slot_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="n">ad</span><span class="p">,</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_2G</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to WiFi and verify Internet access.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi connect fail.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="ow">or</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data is not on WiFi&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Change Data SIM, Disable WiFi and verify Internet access.&quot;</span><span class="p">)</span>
            <span class="n">set_subid_for_data</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">next_data_sub_id</span><span class="p">)</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_data_attach_for_subscription</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">next_data_sub_id</span><span class="p">,</span>
                    <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to attach data on subId:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">next_data_sub_id</span><span class="p">))</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access after changing Data SIM.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data SIM back.&quot;</span><span class="p">)</span>
            <span class="n">set_subid_for_data</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ef03eff7-ddd3-48e9-8f67-5e271e14048b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_vzw_embms_services</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># Install App and Push config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushing embms config and apk to the Android device.&quot;</span><span class="p">)</span>
        <span class="n">android_embms_path</span> <span class="o">=</span> <span class="s2">&quot;/sdcard/mobitv&quot;</span>
        <span class="n">embms_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;embms_path&quot;</span><span class="p">,</span> <span class="s2">&quot;embms_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">embms_path</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">embms_path</span> <span class="o">=</span> <span class="n">embms_path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;mkdir /sdcard/mobitv&quot;</span><span class="p">)</span>
        <span class="n">dcafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">embms_path</span><span class="p">,</span> <span class="s2">&quot;dca.config&quot;</span><span class="p">)</span>
        <span class="n">apkfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">embms_path</span><span class="p">,</span> <span class="s2">&quot;VzwDCA.apk&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dcafile</span><span class="p">,</span> <span class="n">android_embms_path</span><span class="p">))</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">apkfile</span><span class="p">)</span>

        <span class="c1"># Co-ordinates Mapping</span>
        <span class="n">lcd_density</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;getprop ro.sf.lcd_density&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;lcd_density </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">lcd_density</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lcd_density</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;420&quot;</span><span class="p">,</span> <span class="s2">&quot;440&quot;</span><span class="p">]:</span>
            <span class="n">agree_y_axis</span> <span class="o">=</span> <span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">agree_y_axis</span> <span class="o">=</span> <span class="mi">1300</span>

        <span class="c1"># Screen ON needed to open the VZW App</span>
        <span class="k">if</span> <span class="s2">&quot;ON&quot;</span> <span class="ow">in</span> \
        <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span>
               <span class="s2">&quot;dumpsys power | grep &#39;Display Power: state&#39; | cut -d &#39;=&#39; -f2&quot;</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Screen already ON&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;input keyevent 82&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Screen OFF, turning ON&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;input keyevent 26&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;input keyevent 82&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Check if app is installed</span>
            <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">is_apk_installed</span><span class="p">(</span><span class="s2">&quot;com.mobitv.vzwdca&quot;</span><span class="p">):</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;VZWDCA App is successfully installed&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;VZWDCA App is not installed&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Grant Permissions, Start, Agree, Register</span>
            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;pm grant com.mobitv.vzwdca &quot;</span>
                        <span class="s2">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;pm grant com.mobitv.vzwdca &quot;</span>
                        <span class="s2">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;am start -a android.intent.action.VIEW -n &quot;</span>
                        <span class="s2">&quot;com.mobitv.vzwdca/.DcaActivity&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;input tap 500 </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">agree_y_axis</span><span class="p">,</span> <span class="s2">&quot;input keyevent 61&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;input keyevent 61&quot;</span><span class="p">,</span> <span class="s2">&quot;input keyevent 61&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;input keyevent 61&quot;</span><span class="p">,</span> <span class="s2">&quot;input keyevent 61&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;input keyevent 66&quot;</span><span class="p">):</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>

            <span class="c1"># Check Reg-DeReg</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">is_apk_running</span><span class="p">(</span><span class="s2">&quot;com.qualcomm.ltebc_vzw&quot;</span><span class="p">):</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;EMBMS Registered successfully&quot;</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;input keyevent 61&quot;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;input keyevent 66&quot;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ad</span><span class="o">.</span><span class="n">is_apk_running</span><span class="p">(</span><span class="s2">&quot;com.qualcomm.ltebc_vzw&quot;</span><span class="p">):</span>
                    <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;EMBMS De-Registered successfully&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;EMBMS De-Registeration Failed&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;EMBMS Registeration Failed&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Force Close the VZW App&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;am force-stop com.mobitv.vzwdca&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a8cd773-77f5-4802-85ac-1a654bb4743c&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_disable_data_on_non_active_data_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Data on default Data SIM.</span>
<span class="sd">        2. Disable data on non-active Data SIM.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        1. Verify Data Status on Default Data SIM and non-active Data SIM.</span>
<span class="sd">        1. Verify Data Status on Default Data SIM and non-active Data SIM.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
        <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
            <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
            <span class="n">non_active_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">non_active_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
        <span class="n">non_active_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">non_active_sim_slot_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="n">ad</span><span class="p">,</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
                <span class="n">GEN_2G</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetDataConnectionState</span><span class="p">()</span> <span class="o">!=</span> <span class="n">DATA_STATE_CONNECTED</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data Connection State should be connected.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="c1"># TODO: Check Data state for non-active subId.</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Disable Data on Non-Active Sub ID&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnectionForSubscription</span><span class="p">(</span>
                <span class="n">non_active_sub_id</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="c1"># TODO: Check Data state for non-active subId.</span>
            <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetDataConnectionState</span><span class="p">(</span>
            <span class="p">)</span> <span class="o">!=</span> <span class="n">DATA_STATE_CONNECTED</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data Connection State should be connected.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Enable Data on Non-Active Sub ID&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnectionForSubscription</span><span class="p">(</span>
                <span class="n">non_active_sub_id</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">file_download_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">failure</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_info</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">dut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_sleep_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_sleep_time&quot;</span><span class="p">,</span> <span class="mi">1200</span><span class="p">))</span>
        <span class="c1">#file_names = [&quot;5MB&quot;, &quot;10MB&quot;, &quot;20MB&quot;, &quot;50MB&quot;, &quot;200MB&quot;, &quot;512MB&quot;, &quot;1GB&quot;]</span>
        <span class="n">file_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;5MB&quot;</span><span class="p">,</span> <span class="s2">&quot;10MB&quot;</span><span class="p">,</span> <span class="s2">&quot;20MB&quot;</span><span class="p">,</span> <span class="s2">&quot;50MB&quot;</span><span class="p">,</span> <span class="s2">&quot;200MB&quot;</span><span class="p">,</span> <span class="s2">&quot;512MB&quot;</span><span class="p">]</span>
        <span class="k">while</span> <span class="n">total_count</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">:</span>
            <span class="n">total_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">result_info</span><span class="p">))</span>
                <span class="n">selection</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_names</span><span class="p">))</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_names</span><span class="p">[</span><span class="n">selection</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result_info</span><span class="p">[</span><span class="s2">&quot;Total </span><span class="si">%s</span><span class="s2"> file download&quot;</span> <span class="o">%</span> <span class="n">file_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">active_file_download_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">result_info</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> file download failure&quot;</span> <span class="o">%</span>
                                     <span class="n">file_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">failure</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">take_bug_report</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_failure_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span>
                                                           <span class="n">failure</span><span class="p">),</span>
                                        <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m-</span><span class="si">%d</span><span class="s2">-%Y-%H-%M-%S&quot;</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">goToSleepNow</span><span class="p">()</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_sleep_time</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Exception error </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result_info</span><span class="p">[</span><span class="s2">&quot;Exception Errors&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;File download test failure: </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span>
                         <span class="n">total_count</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">failure</span> <span class="o">/</span> <span class="n">total_count</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
            <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;File download test failure: </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span>
                          <span class="n">total_count</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5381a6fa-6771-4b00-a0d6-4a3891a6dba8&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_file_download_stress_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;File download stress test</span>

<span class="sd">        Steps:</span>
<span class="sd">        1. Download a file random picked.</span>
<span class="sd">        2. Device sleep for sometime and Repeat 1.</span>

<span class="sd">        Expected Results:</span>
<span class="sd">        Total download failure rate is less than 10%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if success.</span>
<span class="sd">            False if failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_download_stress</span><span class="p">()</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c9970955-123b-467c-afbb-95ec8f99e9b7&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_file_download_with_mobile_data_usage_limit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Steps:</span>

<span class="sd">        1. Set the data usage limit to current data usage + 9MB</span>
<span class="sd">        2. Download 5MB file from internet.</span>
<span class="sd">        3. The first file download should succeed</span>
<span class="sd">        4. The second file download should fail</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="n">dut</span><span class="p">])</span>
        <span class="n">subscriber_id</span> <span class="o">=</span> <span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetSubscriberId</span><span class="p">()</span>
        <span class="n">old_data_usage</span> <span class="o">=</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>

        <span class="c1"># set data usage limit to current usage limit + 10MB</span>
        <span class="n">data_limit</span> <span class="o">=</span> <span class="n">old_data_usage</span> <span class="o">+</span> <span class="mi">9</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="n">set_mobile_data_usage_limit</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">data_limit</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>

        <span class="c1"># download file - size 5MB twice</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">active_file_download_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">,</span> <span class="s2">&quot;5MB&quot;</span><span class="p">,</span> <span class="s2">&quot;curl&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span>
                            <span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">&lt;</span> <span class="n">data_limit</span><span class="p">:</span>
                        <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Fail to download file when mobile data usage is&quot;</span>
                            <span class="s2">&quot; below data usage limit&quot;</span><span class="p">)</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                            <span class="s2">&quot;Download fails as expected due to data limit reached&quot;</span>
                        <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">data_limit</span><span class="p">:</span>
                        <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                            <span class="s2">&quot;Download file succeed when mobile data usage is&quot;</span>
                            <span class="s2">&quot; below data usage limit&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Download should fail due to data limit reached&quot;</span><span class="p">)</span>
                        <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">remove_mobile_data_usage_limit</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;cellular&quot;</span><span class="p">,</span>
                                            <span class="n">validation_type</span><span class="o">=</span><span class="s2">&quot;detection&quot;</span><span class="p">):</span>
        <span class="n">dut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ss -l -p -n | grep &quot;tcp.*droid_script&quot; | tr -s &quot; &quot; &#39;</span>
                   <span class="s1">&#39;| cut -d &quot; &quot; -f 5 | sed s/.*://g&#39;</span><span class="p">)</span>
            <span class="n">sl4a_port</span> <span class="o">=</span> <span class="n">dut</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
            <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="n">dut</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">nw_type</span> <span class="o">==</span> <span class="s2">&quot;wifi&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">,</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">):</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Browsing failed before the test, aborting!&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="n">begin_time</span> <span class="o">=</span> <span class="n">get_device_epoch_time</span><span class="p">(</span><span class="n">dut</span><span class="p">)</span>
            <span class="n">break_internet_except_sl4a_port</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">sl4a_port</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_data_browsing_failure_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">):</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Browsing success even after breaking internet, &quot;</span>\
                              <span class="s2">&quot;aborting!&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">check_data_stall_detection</span><span class="p">(</span><span class="n">dut</span><span class="p">):</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;NetworkMonitor unable to detect Data Stall&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">check_network_validation_fail</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">):</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to detect NW validation fail&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">validation_type</span> <span class="o">==</span> <span class="s2">&quot;recovery&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">check_data_stall_recovery</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">):</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Recovery was not triggerred&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="n">resume_internet_with_sl4a_port</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">sl4a_port</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">):</span>
                <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Browsing failed after resuming internet&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">resume_internet_with_sl4a_port</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">sl4a_port</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_test_airplane_mode_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">total_iteration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span>
        <span class="n">fail_count</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">current_iteration</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total_iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Airplane mode test Iteration: &lt;</span><span class="si">%s</span><span class="s2">&gt; / &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">airplane_mode_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
                <span class="n">fail_count</span><span class="p">[</span><span class="s2">&quot;apm_run&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> failed.----&lt;&quot;</span><span class="p">,</span>
                             <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;----Iteration : </span><span class="si">%d</span><span class="s2">/</span><span class="si">%d</span><span class="s2"> succeeded.----&lt;&quot;</span><span class="p">,</span>
                        <span class="n">i</span><span class="p">,</span> <span class="n">total_iteration</span><span class="p">)</span>
            <span class="n">current_iteration</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">failure</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">fail_count</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">count</span><span class="p">:</span>
                <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> failures in </span><span class="si">%s</span><span class="s2"> iterations&quot;</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">test_name</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span>
                             <span class="n">total_iteration</span><span class="p">)</span>
                <span class="n">test_result</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test_result</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;3a82728f-18b5-4a35-9eab-4e6cf55271d9&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_apm_toggle_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test airplane mode toggle</span>

<span class="sd">        1. Start with airplane mode off</span>
<span class="sd">        2. Toggle airplane mode on</span>
<span class="sd">        3. Toggle airplane mode off</span>
<span class="sd">        4. Repeat above steps</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_airplane_mode_stress</span><span class="p">()</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;fda33416-698a-408f-8ddc-b5cde13b1f83&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_data_stall_detection_cellular</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Data Stall Detection Testing</span>

<span class="sd">        1. Ensure device is camped, browsing working fine</span>
<span class="sd">        2. Break Internet access, browsing should fail</span>
<span class="sd">        3. Check for Data Stall Detection</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;cellular&quot;</span><span class="p">)</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a57891d6-7892-46c7-8bca-23cd2cca8552&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_data_stall_detection_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Data Stall Detection Testing</span>

<span class="sd">        1. Ensure device is connected to WiFi, browsing working fine</span>
<span class="sd">        2. Break Internet access, browsing should fail</span>
<span class="sd">        3. Check for Data Stall Detection</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;wifi&quot;</span><span class="p">)</span>


    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;16d3f123-cac3-45a9-a2e5-c01bab7044d4&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_data_stall_recovery_cellular</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Data Stall Recovery Testing</span>

<span class="sd">        1. Ensure device is camped, browsing working fine</span>
<span class="sd">        2. Break Internet access, browsing should fail</span>
<span class="sd">        3. Check for Data Stall Detection</span>
<span class="sd">        4. Check for Data Stall Recovery</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;cellular&quot;</span><span class="p">,</span>
                                                <span class="n">validation_type</span><span class="o">=</span><span class="s2">&quot;recovery&quot;</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;d705d653-c810-42eb-bd07-3313f99be2fa&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_browsing_4g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to LTE and verify internet connection.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_4g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">browsing_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;71088cb1-5ccb-4d3a-8e6a-03fac9bf31cc&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_browsing_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to Wi-Fi and verify internet connection.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">browsing_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">wifi_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_sync_time_from_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">data_on</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Verifies time recovered by nitz service</span>

<span class="sd">        1. Toggle mobile data</span>
<span class="sd">        2. Toggle off network time synchronization</span>
<span class="sd">        3. Change device time to FAKE_DATE_TIME: Jan,2,2019 03:04:05</span>
<span class="sd">        4. Toggle on network time synchronization</span>
<span class="sd">        5. Verify the year is changed back.</span>
<span class="sd">        6. Recover mobile data</span>

<span class="sd">        Args:</span>
<span class="sd">            ad: android device object</span>
<span class="sd">            data_on: conditional mobile data on or off</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if pass; False if fail.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">data_on</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Disable mobile data.&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">set_time_sync_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;disable&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Set device time to Jan,2,2019 03:04:05&quot;</span><span class="p">)</span>
        <span class="n">datetime_handle</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">set_datetime_value</span> <span class="o">=</span> <span class="n">FAKE_DATE_TIME</span><span class="p">)</span>
        <span class="n">datetime_before_sync</span> <span class="o">=</span> <span class="n">datetime_handle</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got before sync datetime from device: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">datetime_before_sync</span><span class="p">)</span>
        <span class="n">device_year</span> <span class="o">=</span> <span class="n">datetime_handle</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">get_year</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">device_year</span> <span class="o">!=</span> <span class="n">FAKE_YEAR</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestSkip</span><span class="p">(</span><span class="s2">&quot;Set device time failed, skip test.&quot;</span><span class="p">)</span>
        <span class="n">set_time_sync_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;enable&quot;</span><span class="p">)</span>
        <span class="n">datetime_after_sync</span> <span class="o">=</span> <span class="n">datetime_handle</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;get&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got after sync datetime from device: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">datetime_after_sync</span><span class="p">)</span>
        <span class="n">device_year</span> <span class="o">=</span> <span class="n">datetime_handle</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="n">get_year</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">data_on</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Enabling mobile data.&quot;</span><span class="p">)</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">device_year</span> <span class="o">!=</span> <span class="n">FAKE_YEAR</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">record_data</span><span class="p">({</span>
                <span class="s2">&quot;Test Name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_sync_time_from_network&quot;</span><span class="p">,</span>
                <span class="s2">&quot;sponge_properties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;pass&quot;</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">})</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1017b655-5d79-44d2-86ff-675c69aec26b&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_sync_time_from_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test device time recovered by nitz service</span>

<span class="sd">        1. Toggle off network time synchronization</span>
<span class="sd">        2. Change device time to FAKE_DATE_TIME.</span>
<span class="sd">        3. Toggle on network time synchronization</span>
<span class="sd">        4. Verify the year is changed back.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_sync_time_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;46d170c6-a632-4124-889b-96caa0e641da&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_sync_time_from_network_data_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Test device time recovered by nitz service</span>

<span class="sd">        1. Toggle off mobile data</span>
<span class="sd">        2. Toggle off network time synchronization</span>
<span class="sd">        3. Change device time to FAKE_DATE_TIME.</span>
<span class="sd">        4. Toggle on network time synchronization</span>
<span class="sd">        5. Verify the year is changed back.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_sync_time_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">data_on</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;2d739779-3beb-4e6e-8396-84f28e626379&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_reboot_4g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to LTE and verify internet connection.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_4g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">reboot_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5ce671f7-c2a4-46aa-a9f2-e5571c144fad&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_reboot_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to 3G and verify internet connection.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone_setup_3g</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">reboot_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">)</span>

    <span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9e094f0e-7bef-479e-a5fa-a6bfa95289a5&quot;</span><span class="p">)</span>
    <span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
    <span class="k">def</span> <span class="nf">test_reboot_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to Wi-Fi and verify internet connection.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">reboot_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">wifi_ssid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">)</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot; Tests End &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_data_connectivity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_2g_data_connectivity</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 2G.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Ensure phone data generation is 2G.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;dcb9bdc6-dbe2-47e1-9c2d-6f37c529d366&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_2g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 2G.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 2G.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_2G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_2g_wifi_not_associated" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_2g_wifi_not_associated</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 2G.</p>
<p>Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.
Ensure phone data generation is 2G.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;84197a49-d73f-44ce-8b9e-9479e5c4dfdc&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_2g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 2G.</span>

<span class="sd">    Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 2G.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_2G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_data_connectivity</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 3G.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Ensure phone data generation is 3G.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;97067ebb-130a-4fcb-8e6b-f4ec5874828f&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 3G.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 3G.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_data_connectivity_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_data_connectivity_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Stress Test data connection in 3G.</p>
<p>This is a stress test for "test_3g".
Default MINIMUM_SUCCESS_RATE is set to 95%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;44f47b64-f8bc-4a17-9195-42dcca0806bb&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_data_connectivity_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stress Test data connection in 3G.</span>

<span class="sd">    This is a stress test for &quot;test_3g&quot;.</span>
<span class="sd">    Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">        False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

        <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">):</span>
            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
            <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_3g_wifi_not_associated" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_3g_wifi_not_associated</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 3G.</p>
<p>Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.
Ensure phone data generation is 3G.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ffe2a392-95b8-4a4d-8a6f-bfa846c3462f&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_3g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 3G.</span>

<span class="sd">    Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 3G.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_3G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_4g_data_connectivity</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 4g.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Ensure phone data generation is 4g.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9c2f459f-1aac-4c68-818b-8698e8124c8b&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_4g_data_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 4g.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 4g.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_data_connectivity_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_4g_data_connectivity_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Stress Test data connection in 4g.</p>
<p>This is a stress test for "test_4g".
Default MINIMUM_SUCCESS_RATE is set to 95%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c8876388-0441-4a51-81e6-ac2cb358a531&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_4g_data_connectivity_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stress Test data connection in 4g.</span>

<span class="sd">    This is a stress test for &quot;test_4g&quot;.</span>
<span class="sd">    Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">        False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

        <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">):</span>
            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
            <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_4g_wifi_not_associated" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_4g_wifi_not_associated</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection in 4g.</p>
<p>Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.
Ensure phone data generation is 4g.
Verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;015a39a1-15ac-4b76-962b-d7d82d52d425&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_4g_wifi_not_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection in 4g.</span>

<span class="sd">    Turn off airplane mode, enable WiFi (but not connected), enable Cellular Data.</span>
<span class="sd">    Ensure phone data generation is 4g.</span>
<span class="sd">    Verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_connectivity_single_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">RAT_4G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_airplane_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_airplane_mode</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test airplane mode basic on Phone and Live SIM.</p>
<p>Ensure phone attach, data on, WiFi off and verify Internet.
Turn on airplane mode to make sure detach.
Turn off airplane mode to make sure attach.
Verify Internet connection.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1b0354f3-8668-4a28-90a5-3b3d2b2756d3&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_airplane_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test airplane mode basic on Phone and Live SIM.</span>

<span class="sd">    Ensure phone attach, data on, WiFi off and verify Internet.</span>
<span class="sd">    Turn on airplane mode to make sure detach.</span>
<span class="sd">    Turn off airplane mode to make sure attach.</span>
<span class="sd">    Verify Internet connection.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">airplane_mode_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_apm_toggle_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_apm_toggle_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test airplane mode toggle</p>
<ol>
<li>Start with airplane mode off</li>
<li>Toggle airplane mode on</li>
<li>Toggle airplane mode off</li>
<li>Repeat above steps</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;3a82728f-18b5-4a35-9eab-4e6cf55271d9&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_apm_toggle_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test airplane mode toggle</span>

<span class="sd">    1. Start with airplane mode off</span>
<span class="sd">    2. Toggle airplane mode on</span>
<span class="sd">    3. Toggle airplane mode off</span>
<span class="sd">    4. Repeat above steps</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_airplane_mode_stress</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_3g_to_lte" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_change_rat_during_active_wifi_tethering_3g_to_lte</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



<details class="wifi-tethering-test" open>
  <summary>Change Cellular Data RAT generation from 3G to LTE,</summary>
  <p>during active WiFi Tethering.</p>
</details>      <ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verily Internet access on DUT and PhoneB</li>
<li>Change DUT Cellular Data RAT generation from 3G to LTE.</li>
<li>Verify both DUT and PhoneB have Internet access.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;eb5f0180-b70d-436f-8fcb-60c59307cc43&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_change_rat_during_active_wifi_tethering_3g_to_lte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Change Cellular Data RAT generation from 3G to LTE,</span>
<span class="sd">        during active WiFi Tethering.</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verily Internet access on DUT and PhoneB</span>
<span class="sd">    5. Change DUT Cellular Data RAT generation from 3G to LTE.</span>
<span class="sd">    6. Verify both DUT and PhoneB have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provider change RAT from 3G to 4G.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                <span class="n">RAT_4G</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">,</span>
                <span class="n">toggle_apm_after_setting</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider failed to reselect to 4G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_DATA_STATUS_CHANGE_DURING_WIFI_TETHERING</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data not available on Provider.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tethering_check_internet_connection</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_change_rat_during_active_wifi_tethering_lte_to_3g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_change_rat_during_active_wifi_tethering_lte_to_3g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



<details class="wifi-tethering-test" open>
  <summary>Change Cellular Data RAT generation from LTE to 3G,</summary>
  <p>during active WiFi Tethering.</p>
</details>      <ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verily Internet access on DUT and PhoneB</li>
<li>Change DUT Cellular Data RAT generation from LTE to 3G.</li>
<li>Verify both DUT and PhoneB have Internet access.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c92a961b-e85d-435c-8988-052928add591&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_change_rat_during_active_wifi_tethering_lte_to_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Change Cellular Data RAT generation from LTE to 3G,</span>
<span class="sd">        during active WiFi Tethering.</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verily Internet access on DUT and PhoneB</span>
<span class="sd">    5. Change DUT Cellular Data RAT generation from LTE to 3G.</span>
<span class="sd">    6. Verify both DUT and PhoneB have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provider change RAT from LTE to 3G.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                <span class="n">RAT_3G</span><span class="p">,</span>
                <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">,</span>
                <span class="n">toggle_apm_after_setting</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider failed to reselect to 3G.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_DATA_STATUS_CHANGE_DURING_WIFI_TETHERING</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data not available on Provider.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Provider WiFi tethering stopped.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tethering_check_internet_connection</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_reboot_start_tethering_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_connect_wifi_reboot_start_tethering_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: DUT connected to WiFi, then reboot,
After reboot, start WiFi tethering, verify tethering actually works.</p>
<p>Initial Condition: Device set to 4G mode, idle, DUT connect to WiFi.
1. Verify Internet is working on DUT (by WiFi).
2. Reboot DUT.
3. DUT start 2.4G WiFi Tethering.
4. PhoneB disable data, connect to DUT's softAP
5. Verify Internet access on DUT and PhoneB</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;e0621997-c5bd-4137-afa6-b43406e9c713&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_connect_wifi_reboot_start_tethering_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: DUT connected to WiFi, then reboot,</span>
<span class="sd">    After reboot, start WiFi tethering, verify tethering actually works.</span>

<span class="sd">    Initial Condition: Device set to 4G mode, idle, DUT connect to WiFi.</span>
<span class="sd">    1. Verify Internet is working on DUT (by WiFi).</span>
<span class="sd">    2. Reboot DUT.</span>
<span class="sd">    3. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">    4. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    5. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Ensure provider connecting to wifi network and then reboot.</span>
    <span class="k">def</span> <span class="nf">setup_provider_internet_connect_then_reboot</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">setup_device_internet_connection_then_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                               <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                               <span class="kc">None</span><span class="p">,</span>
                               <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                               <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                               <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                               <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connect_then_reboot</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_connect_wifi_start_tethering_wifi_reboot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_connect_wifi_start_tethering_wifi_reboot</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



<details class="wifi-tethering-test" open>
  <summary>WiFI connected, then start WiFi tethering,</summary>
  <p>then reboot device.</p>
</details>      <p>Initial Condition: DUT in 4G mode, idle, DUT connect to WiFi.
1. DUT start 2.4G WiFi Tethering.
2. PhoneB disable data, connect to DUT's softAP
3. Verify Internet access on DUT and PhoneB
4. Reboot DUT
5. After DUT reboot, verify tethering is stopped. DUT is able to connect
    to previous WiFi AP.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5cf04ca2-dfde-43d6-be74-78b9abdf6c26&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_connect_wifi_start_tethering_wifi_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: WiFI connected, then start WiFi tethering,</span>
<span class="sd">        then reboot device.</span>

<span class="sd">    Initial Condition: DUT in 4G mode, idle, DUT connect to WiFi.</span>
<span class="sd">    1. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">    2. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    3. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    4. Reboot DUT</span>
<span class="sd">    5. After DUT reboot, verify tethering is stopped. DUT is able to connect</span>
<span class="sd">        to previous WiFi AP.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Ensure provider connecting to wifi network.</span>
    <span class="k">def</span> <span class="nf">setup_provider_internet_connection</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">setup_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="c1"># wait for provider connecting to wifi network and verify</span>
    <span class="c1"># internet connection is working.</span>
    <span class="k">def</span> <span class="nf">wait_and_verify_internet_connection</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">wait_and_verify_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connection</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_wifi_tethering_when_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                 <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                 <span class="n">post_reboot_func</span><span class="o">=</span><span class="n">wait_and_verify_internet_connection</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_browsing_for_single_phone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_data_browsing_for_single_phone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Browsing websites on cellular.</p>
<p>Ensure phone attach, data on, WiFi off
Verify 5 websites on cellular.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;ba24f9a3-0126-436c-8a5c-9f88859c273c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_data_browsing_for_single_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Browsing websites on cellular.</span>

<span class="sd">    Ensure phone attach, data on, WiFi off</span>
<span class="sd">    Verify 5 websites on cellular.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Attempt </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test PASS in iteration </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_ANDROID_STATE_SETTLING</span><span class="p">)</span>
    <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test FAIL for all 3 iterations&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_cellular" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_data_stall_detection_cellular</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Data Stall Detection Testing</p>
<ol>
<li>Ensure device is camped, browsing working fine</li>
<li>Break Internet access, browsing should fail</li>
<li>Check for Data Stall Detection</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;fda33416-698a-408f-8ddc-b5cde13b1f83&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_data_stall_detection_cellular</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Data Stall Detection Testing</span>

<span class="sd">    1. Ensure device is camped, browsing working fine</span>
<span class="sd">    2. Break Internet access, browsing should fail</span>
<span class="sd">    3. Check for Data Stall Detection</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;cellular&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_detection_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_data_stall_detection_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Data Stall Detection Testing</p>
<ol>
<li>Ensure device is connected to WiFi, browsing working fine</li>
<li>Break Internet access, browsing should fail</li>
<li>Check for Data Stall Detection</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;a57891d6-7892-46c7-8bca-23cd2cca8552&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_data_stall_detection_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Data Stall Detection Testing</span>

<span class="sd">    1. Ensure device is connected to WiFi, browsing working fine</span>
<span class="sd">    2. Break Internet access, browsing should fail</span>
<span class="sd">    3. Check for Data Stall Detection</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;wifi&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_data_stall_recovery_cellular" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_data_stall_recovery_cellular</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Data Stall Recovery Testing</p>
<ol>
<li>Ensure device is camped, browsing working fine</li>
<li>Break Internet access, browsing should fail</li>
<li>Check for Data Stall Detection</li>
<li>Check for Data Stall Recovery</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;16d3f123-cac3-45a9-a2e5-c01bab7044d4&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_data_stall_recovery_cellular</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Data Stall Recovery Testing</span>

<span class="sd">    1. Ensure device is camped, browsing working fine</span>
<span class="sd">    2. Break Internet access, browsing should fail</span>
<span class="sd">    3. Check for Data Stall Detection</span>
<span class="sd">    4. Check for Data Stall Recovery</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_data_stall_detection_recovery</span><span class="p">(</span><span class="n">nw_type</span><span class="o">=</span><span class="s2">&quot;cellular&quot;</span><span class="p">,</span>
                                            <span class="n">validation_type</span><span class="o">=</span><span class="s2">&quot;recovery&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_data_on_non_active_data_sim" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_disable_data_on_non_active_data_sim</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Switch Data SIM on 2G network.</p>
<p>Steps:
1. Data on default Data SIM.
2. Disable data on non-active Data SIM.</p>
<p>Expected Results:
1. Verify Data Status on Default Data SIM and non-active Data SIM.
1. Verify Data Status on Default Data SIM and non-active Data SIM.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a8cd773-77f5-4802-85ac-1a654bb4743c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_disable_data_on_non_active_data_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Data on default Data SIM.</span>
<span class="sd">    2. Disable data on non-active Data SIM.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data Status on Default Data SIM and non-active Data SIM.</span>
<span class="sd">    1. Verify Data Status on Default Data SIM and non-active Data SIM.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
    <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
        <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
        <span class="n">non_active_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">non_active_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
    <span class="n">non_active_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">non_active_sim_slot_index</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="n">ad</span><span class="p">,</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_2G</span><span class="p">,</span>
            <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetDataConnectionState</span><span class="p">()</span> <span class="o">!=</span> <span class="n">DATA_STATE_CONNECTED</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data Connection State should be connected.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># TODO: Check Data state for non-active subId.</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Disable Data on Non-Active Sub ID&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnectionForSubscription</span><span class="p">(</span>
            <span class="n">non_active_sub_id</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="c1"># TODO: Check Data state for non-active subId.</span>
        <span class="k">if</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetDataConnectionState</span><span class="p">(</span>
        <span class="p">)</span> <span class="o">!=</span> <span class="n">DATA_STATE_CONNECTED</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data Connection State should be connected.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Enable Data on Non-Active Sub ID&quot;</span><span class="p">)</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnectionForSubscription</span><span class="p">(</span>
            <span class="n">non_active_sub_id</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_disable_wifi_tethering_resume_connected_wifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_disable_wifi_tethering_resume_connected_wifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: WiFI connected to 2.4G network,
start (LTE) 2.4G WiFi tethering, then stop tethering</p>
<ol>
<li>DUT in data connected, idle. WiFi connected to 2.4G Network</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Disable WiFi Tethering on DUT.</li>
<li>Verify DUT automatically connect to previous WiFI network</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8ed766a6-71c5-4b3b-8897-a4e796c75619&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_disable_wifi_tethering_resume_connected_wifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: WiFI connected to 2.4G network,</span>
<span class="sd">    start (LTE) 2.4G WiFi tethering, then stop tethering</span>

<span class="sd">    1. DUT in data connected, idle. WiFi connected to 2.4G Network</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Disable WiFi Tethering on DUT.</span>
<span class="sd">    6. Verify DUT automatically connect to previous WiFI network</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Ensure provider connecting to wifi network.</span>
    <span class="k">def</span> <span class="nf">setup_provider_internet_connection</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">setup_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                               <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                               <span class="kc">None</span><span class="p">,</span>
                               <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                               <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                               <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                               <span class="n">pre_teardown_func</span><span class="o">=</span><span class="n">setup_provider_internet_connection</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_and_verify_device_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_stress_default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_file_download_stress_default</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>File download stress test</p>
<p>Steps:
1. Download a file random picked.
2. Device sleep for sometime and Repeat 1.</p>
<p>Expected Results:
Total download failure rate is less than 10%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5381a6fa-6771-4b00-a0d6-4a3891a6dba8&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_file_download_stress_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;File download stress test</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Download a file random picked.</span>
<span class="sd">    2. Device sleep for sometime and Repeat 1.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    Total download failure rate is less than 10%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_download_stress</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_file_download_with_mobile_data_usage_limit_set" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_file_download_with_mobile_data_usage_limit_set</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Steps:</p>
<ol>
<li>Set the data usage limit to current data usage + 9MB</li>
<li>Download 5MB file from internet.</li>
<li>The first file download should succeed</li>
<li>The second file download should fail</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c9970955-123b-467c-afbb-95ec8f99e9b7&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_file_download_with_mobile_data_usage_limit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Steps:</span>

<span class="sd">    1. Set the data usage limit to current data usage + 9MB</span>
<span class="sd">    2. Download 5MB file from internet.</span>
<span class="sd">    3. The first file download should succeed</span>
<span class="sd">    4. The second file download should fail</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="n">dut</span><span class="p">])</span>
    <span class="n">subscriber_id</span> <span class="o">=</span> <span class="n">dut</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyGetSubscriberId</span><span class="p">()</span>
    <span class="n">old_data_usage</span> <span class="o">=</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>

    <span class="c1"># set data usage limit to current usage limit + 10MB</span>
    <span class="n">data_limit</span> <span class="o">=</span> <span class="n">old_data_usage</span> <span class="o">+</span> <span class="mi">9</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">1000</span>
    <span class="n">set_mobile_data_usage_limit</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">data_limit</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>

    <span class="c1"># download file - size 5MB twice</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">active_file_download_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">dut</span><span class="p">,</span> <span class="s2">&quot;5MB&quot;</span><span class="p">,</span> <span class="s2">&quot;curl&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span>
                        <span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">&lt;</span> <span class="n">data_limit</span><span class="p">:</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Fail to download file when mobile data usage is&quot;</span>
                        <span class="s2">&quot; below data usage limit&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Download fails as expected due to data limit reached&quot;</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">get_mobile_data_usage</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">data_limit</span><span class="p">:</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Download file succeed when mobile data usage is&quot;</span>
                        <span class="s2">&quot; below data usage limit&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dut</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Download should fail due to data limit reached&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">remove_mobile_data_usage_limit</span><span class="p">(</span><span class="n">dut</span><span class="p">,</span> <span class="n">subscriber_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_gsm_multi_bearer_mo</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test gsm data connection before call and in call.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Make sure phone in GSM, verify Internet.
Initiate a MO voice call. Verify there is no Internet during call.
Hangup Voice Call, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;314bbf1c-073f-4d48-9817-a6e14f96f3c0&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_gsm_multi_bearer_mo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test gsm data connection before call and in call.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Make sure phone in GSM, verify Internet.</span>
<span class="sd">    Initiate a MO voice call. Verify there is no Internet during call.</span>
<span class="sd">    Hangup Voice Call, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;2g&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_multi_bearer_mt" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_gsm_multi_bearer_mt</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test gsm data connection before call and in call.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Make sure phone in GSM, verify Internet.
Initiate a MT voice call. Verify there is no Internet during call.
Hangup Voice Call, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;549271ff-1034-4d02-8d92-b9d1b2bb912e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_gsm_multi_bearer_mt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test gsm data connection before call and in call.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Make sure phone in GSM, verify Internet.</span>
<span class="sd">    Initiate a MT voice call. Verify there is no Internet during call.</span>
<span class="sd">    Hangup Voice Call, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;2g&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_gsm_wifi_switching" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_gsm_wifi_switching</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection network switching when phone camped on GSM.</p>
<p>Ensure phone is camped on GSM
Ensure WiFi can connect to live network,,
Airplane mode is off, data connection is on, WiFi is on.
Turn off WiFi, verify data is on cell and browse to google.com is OK.
Turn on WiFi, verify data is on WiFi and browse to google.com is OK.
Turn off WiFi, verify data is on cell and browse to google.com is OK.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c016f2e8-0af6-42e4-a3cb-a2b7d8b564d0&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_gsm_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on GSM.</span>

<span class="sd">    Ensure phone is camped on GSM</span>
<span class="sd">    Ensure WiFi can connect to live network,,</span>
<span class="sd">    Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">    Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_2G</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_multi_bearer</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test LTE data connection before call and in call. (VoLTE call)</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Make sure phone in LTE, verify Internet.
Initiate a voice call. verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.
Hangup Voice Call, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;78d6b258-82d4-47b4-8723-3b3a15412d2d&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test LTE data connection before call and in call. (VoLTE call)</span>


<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Make sure phone in LTE, verify Internet.</span>
<span class="sd">    Initiate a voice call. verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>
<span class="sd">    Hangup Voice Call, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;volte&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_multi_bearer_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_multi_bearer_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Stress Test LTE data connection before call and in call. (VoLTE call)</p>
<p>This is a stress test for "test_lte_multi_bearer".
Default MINIMUM_SUCCESS_RATE is set to 95%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c7f14ba7-7ac3-45d2-b391-5ed5c4b0e70b&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_multi_bearer_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stress Test LTE data connection before call and in call. (VoLTE call)</span>

<span class="sd">    This is a stress test for &quot;test_lte_multi_bearer&quot;.</span>
<span class="sd">    Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">        False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span>
    <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

        <span class="n">ensure_phones_default_state</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_lte_multi_bearer</span><span class="p">():</span>
            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
            <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wifi_switching</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection network switching when phone camped on LTE.</p>
<p>Ensure phone is camped on LTE
Ensure WiFi can connect to live network,
Airplane mode is off, data connection is on, WiFi is on.
Turn off WiFi, verify data is on cell and browse to google.com is OK.
Turn on WiFi, verify data is on WiFi and browse to google.com is OK.
Turn off WiFi, verify data is on cell and browse to google.com is OK.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;47430f01-583f-4efb-923a-285a51b75d50&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on LTE.</span>

<span class="sd">    Ensure phone is camped on LTE</span>
<span class="sd">    Ensure WiFi can connect to live network,</span>
<span class="sd">    Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">    Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_4G</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_lte_wifi_switching_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_lte_wifi_switching_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>LTE WiFi Switching Data Connection Check</p>
<p>Same steps as test_lte_wifi_switching with stress testing</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;98d9f8c9-0532-49b6-85a3-5246b8314755&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_lte_wifi_switching_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;LTE WiFi Switching Data Connection Check</span>

<span class="sd">    Same steps as test_lte_wifi_switching with stress testing</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">ensure_phones_default_state</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_4G</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
            <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_cell_data_switch_to_wifi_switch_data_sim_2g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_msim_cell_data_switch_to_wifi_switch_data_sim_2g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Switch Data SIM on 2G network.</p>
<p>Steps:
1. Data on default Data SIM.
2. Turn on WiFi, then data should be on WiFi.
3. Switch Data to another SIM. Disable WiFi.</p>
<p>Expected Results:
1. Verify Data on Cell
2. Verify Data on WiFi
3. After WiFi disabled, Cell Data is available on 2nd SIM.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8bb9383f-ddf9-400c-a831-c9462bae6b47&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_msim_cell_data_switch_to_wifi_switch_data_sim_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Data on default Data SIM.</span>
<span class="sd">    2. Turn on WiFi, then data should be on WiFi.</span>
<span class="sd">    3. Switch Data to another SIM. Disable WiFi.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data on Cell</span>
<span class="sd">    2. Verify Data on WiFi</span>
<span class="sd">    3. After WiFi disabled, Cell Data is available on 2nd SIM.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
    <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
        <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
        <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
    <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                                 <span class="n">next_sim_slot_index</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="n">ad</span><span class="p">,</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_2G</span><span class="p">,</span>
            <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connect to WiFi and verify Internet access.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi connect fail.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">wait_for_wifi_data_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="ow">or</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data is not on WiFi&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Change Data SIM, Disable WiFi and verify Internet access.&quot;</span><span class="p">)</span>
        <span class="n">set_subid_for_data</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">next_data_sub_id</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_for_data_attach_for_subscription</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">next_data_sub_id</span><span class="p">,</span>
                <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to attach data on subId:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">next_data_sub_id</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access after changing Data SIM.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data SIM back.&quot;</span><span class="p">)</span>
        <span class="n">set_subid_for_data</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_msim_switch_data_sim_2g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_msim_switch_data_sim_2g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Switch Data SIM on 2G network.</p>
<p>Steps:
1. Data on default Data SIM.
2. Switch Data to another SIM. Make sure data is still available.
3. Switch Data back to previous SIM. Make sure data is still available.</p>
<p>Expected Results:
1. Verify Data on Cell
2. Verify Data on Wifi</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;695eef18-f759-4b41-8ad3-1fb329ee4b1b&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_msim_switch_data_sim_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Switch Data SIM on 2G network.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Data on default Data SIM.</span>
<span class="sd">    2. Switch Data to another SIM. Make sure data is still available.</span>
<span class="sd">    3. Switch Data back to previous SIM. Make sure data is still available.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data on Cell</span>
<span class="sd">    2. Verify Data on Wifi</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">()</span>
    <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
        <span class="n">ad</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">current_sim_slot_index</span> <span class="o">==</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">:</span>
        <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM2_SLOT_INDEX</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">SIM1_SLOT_INDEX</span>
    <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">get_subid_from_slot_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                                 <span class="n">next_sim_slot_index</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
            <span class="n">ad</span><span class="p">,</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_2G</span><span class="p">,</span>
            <span class="n">voice_or_data</span><span class="o">=</span><span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device data does not attach to 2G.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No Internet access on default Data SIM.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data to subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">next_data_sub_id</span><span class="p">,</span> <span class="n">next_sim_slot_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                           <span class="n">next_sim_slot_index</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">next_data_sub_id</span> <span class="o">=</span> <span class="n">current_data_sub_id</span>
    <span class="n">next_sim_slot_index</span> <span class="o">=</span> <span class="n">current_sim_slot_index</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Change Data back to subId: </span><span class="si">{}</span><span class="s2">, SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">next_data_sub_id</span><span class="p">,</span> <span class="n">next_sim_slot_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span>
                                           <span class="n">next_sim_slot_index</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_sync_time_from_network</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test device time recovered by nitz service</p>
<ol>
<li>Toggle off network time synchronization</li>
<li>Change device time to FAKE_DATE_TIME.</li>
<li>Toggle on network time synchronization</li>
<li>Verify the year is changed back.</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1017b655-5d79-44d2-86ff-675c69aec26b&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_sync_time_from_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test device time recovered by nitz service</span>

<span class="sd">    1. Toggle off network time synchronization</span>
<span class="sd">    2. Change device time to FAKE_DATE_TIME.</span>
<span class="sd">    3. Toggle on network time synchronization</span>
<span class="sd">    4. Verify the year is changed back.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_sync_time_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_sync_time_from_network_data_off" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_sync_time_from_network_data_off</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test device time recovered by nitz service</p>
<ol>
<li>Toggle off mobile data</li>
<li>Toggle off network time synchronization</li>
<li>Change device time to FAKE_DATE_TIME.</li>
<li>Toggle on network time synchronization</li>
<li>Verify the year is changed back.</li>
</ol>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span>
<span class="normal">2813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;46d170c6-a632-4124-889b-96caa0e641da&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_sync_time_from_network_data_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Test device time recovered by nitz service</span>

<span class="sd">    1. Toggle off mobile data</span>
<span class="sd">    2. Toggle off network time synchronization</span>
<span class="sd">    3. Change device time to FAKE_DATE_TIME.</span>
<span class="sd">    4. Toggle on network time synchronization</span>
<span class="sd">    5. Verify the year is changed back.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_sync_time_from_network</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="n">data_on</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_2gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_2g_to_2gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: 2G to WiFI 2.4G Tethering</p>
<ol>
<li>DUT in 2G mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;89fe6321-4c0d-40c0-89b2-54008ecca68f&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_2g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 2G to WiFI 2.4G Tethering</span>

<span class="sd">    1. DUT in 2G mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_5gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_2g_to_5gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: 2G to WiFI 5G Tethering</p>
<ol>
<li>DUT in 2G mode, idle.</li>
<li>DUT start 5G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b8258d51-9581-4d52-80b6-501941ec1191&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_2g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 2G to WiFI 5G Tethering</span>

<span class="sd">    1. DUT in 2G mode, idle.</span>
<span class="sd">    2. DUT start 5G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_2g_to_bluetooth</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 2G to Bluetooth Tethering</p>
<ol>
<li>DUT in 2G mode, idle.</li>
<li>DUT start bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider bluetooth connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;db0e0f27-1a4f-4301-832d-b66415e289f3&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 2G mode, idle.</span>
<span class="sd">    2. DUT start bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider bluetooth connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">:</span>
        <span class="n">a</span><span class="o">.</span><span class="n">adb</span><span class="o">.</span><span class="n">shell</span><span class="p">(</span><span class="s2">&quot;setprop persist.bluetooth.btsnoopenable true&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to toggle airplane mode on&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">toggle_airplane_mode_by_adb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to toggle airplane mode off&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_toggle_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_2g_to_bluetooth_toggle_data</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 2G to Bluetooth Tethering</p>
<ol>
<li>DUT in 2G mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider data connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;be3e74f9-3dc8-4b72-8a33-32bff0868a44&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 2G mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider data connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_2g_to_bluetooth_with_voice_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_2g_to_bluetooth_with_voice_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 2G to Bluetooth Tethering</p>
<ol>
<li>DUT in 2G mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Verify provider and client are able to make or receive phone call</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;584e9fa5-a38e-47cd-aa33-fcf8d72c423e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_2g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 2G mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_2G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 2G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_2gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_3g_to_2gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: 3G to WiFI 2.4G Tethering</p>
<ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;59be8d68-f05b-4448-8584-de971174fd81&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_3g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G to WiFI 2.4G Tethering</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_5gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_3g_to_5gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: 3G to WiFI 5G Tethering</p>
<ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start 5G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1be6b741-92e8-4ee1-9f59-e7f9f369b065&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_3g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G to WiFI 5G Tethering</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start 5G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_3g_to_bluetooth</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 3G to Bluetoothing Tethering</p>
<ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider bluetooth connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b1abc1ac-8018-4956-a17e-bf2ceaf264ea&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetoothing Tethering</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider bluetooth connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_toggle_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_3g_to_bluetooth_toggle_data</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 3G to Bluetoothing Tethering</p>
<ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider data connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4275ee69-dfdf-4f47-82c5-4224fceee761&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetoothing Tethering</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider data connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_3g_to_bluetooth_with_voice_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_3g_to_bluetooth_with_voice_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 3G to Bluetooth Tethering</p>
<ol>
<li>DUT in 3G mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Verify provider and client are able to make or receive phone call</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;69793745-0c49-4cef-9879-d372e3a3f4c7&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_3g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 3G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 3G mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_3G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_2gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: LTE to WiFI 2.4G Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;912a11a3-14b3-4928-885f-cea69f14a571&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: LTE to WiFI 2.4G Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_2gwifi_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_2gwifi_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Stress Test LTE to WiFI 2.4G Tethering</p>
<p>This is a stress test for "test_tethering_4g_to_2gwifi".
Default MINIMUM_SUCCESS_RATE is set to 95%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4972826e-39ea-42f7-aae0-06fe3aa9ecc6&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_2gwifi_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stress Test LTE to WiFI 2.4G Tethering</span>

<span class="sd">    This is a stress test for &quot;test_tethering_4g_to_2gwifi&quot;.</span>
<span class="sd">    Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">        False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">precondition</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_case</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="n">RAT_4G</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_stress_test</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">,</span> <span class="n">precondition</span><span class="p">,</span> <span class="n">test_case</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_5gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_5gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: LTE to WiFI 5G Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start 5G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;743e3998-d39f-42b9-b11f-009dcee34f3f&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: LTE to WiFI 5G Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start 5G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_bluetooth</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: LTE to Bluetooth Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider bluetooth connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;2d945656-22f7-4610-9a84-40ce04d603a4&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider bluetooth connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_bluetooth_toggle_data</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: LTE to Bluetooth Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider data connection</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b4617727-fa83-4451-89d7-7e574c0a0938&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_toggle_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider data connection</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_toggle_tethering" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_bluetooth_toggle_tethering</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: LTE to Bluetooth Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Toggle provider bluetooth tethering</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;6a0f6001-609d-41f2-ad09-c8ae19f73ac8&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_toggle_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Toggle provider bluetooth tethering</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_4g_to_bluetooth_with_voice_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_4g_to_bluetooth_with_voice_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: LTE to Bluetooth Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start Bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Verify provider and client are able to make or receive phone call</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8d2ae56b-c2c1-4c32-9b8e-5044007b5b90&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_4g_to_bluetooth_with_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: LTE to Bluetooth Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start Bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Verify provider and client are able to make or receive phone call</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">voice_call</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_2gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_default_to_2gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Default to WiFI 2G Tethering</p>
<ol>
<li>DUT in default mode, idle.</li>
<li>DUT start 2G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>True: Stop
   False: Change DUT to next device and repeat until find the device
          with tethering capability</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if no device has tethering capability.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c9a570b0-838c-44ba-991c-f1ddeee21f3c&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_default_to_2gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Default to WiFI 2G Tethering</span>

<span class="sd">    1. DUT in default mode, idle.</span>
<span class="sd">    2. DUT start 2G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. True: Stop</span>
<span class="sd">       False: Change DUT to next device and repeat until find the device</span>
<span class="sd">              with tethering capability</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if no device has tethering capability.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ad</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[:</span>
                                            <span class="n">idx</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span>
                                                                        <span class="o">+</span>
                                                                        <span class="mi">1</span><span class="p">:]</span>
        <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data connection check failed.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">carrierConfigIsTetheringModeAllowed</span><span class="p">(</span>
                <span class="n">TETHERING_MODE_WIFI</span><span class="p">,</span>
                <span class="n">MAX_WAIT_TIME_TETHERING_ENTITLEMENT_CHECK</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tethering is not entitled&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Tethering is not working on all devices&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
        <span class="s2">&quot;Failed to enable tethering on any device in this testbed&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span>
        <span class="s2">&quot;Tethering is not available on all devices in this testbed&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_default_to_5gwifi" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_default_to_5gwifi</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Default to WiFI 5G Tethering</p>
<ol>
<li>DUT in default mode, idle.</li>
<li>DUT start 5G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>True: Stop
   False: Change DUT to next device and repeat until find the device
          with tethering capability</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if no device has tethering capability.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;c1a16464-3800-40d3-ba63-35db784e0383&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_default_to_5gwifi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Default to WiFI 5G Tethering</span>

<span class="sd">    1. DUT in default mode, idle.</span>
<span class="sd">    2. DUT start 5G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. True: Stop</span>
<span class="sd">       False: Change DUT to next device and repeat until find the device</span>
<span class="sd">              with tethering capability</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if no device has tethering capability.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ad</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[:</span>
                                            <span class="n">idx</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="n">idx</span>
                                                                        <span class="o">+</span>
                                                                        <span class="mi">1</span><span class="p">:]</span>
        <span class="n">ensure_phones_default_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">)</span>
        <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Data connection check failed.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">carrierConfigIsTetheringModeAllowed</span><span class="p">(</span>
                <span class="n">TETHERING_MODE_WIFI</span><span class="p">,</span>
                <span class="n">MAX_WAIT_TIME_TETHERING_ENTITLEMENT_CHECK</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tethering is not entitled&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_5G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Tethering is not working on all devices&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
        <span class="s2">&quot;Failed to enable tethering on any device in this testbed&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">signals</span><span class="o">.</span><span class="n">TestAbortClass</span><span class="p">(</span>
        <span class="s2">&quot;Tethering is not available on all devices in this testbed&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_entitlement_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_entitlement_check</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Tethering Entitlement Check Test</p>
<p>Get tethering entitlement check result.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if entitlement check returns True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;037e80fc-6eab-4cd1-846a-b9780a1d502d&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_entitlement_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tethering Entitlement Check Test</span>

<span class="sd">    Get tethering entitlement check result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if entitlement check returns True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">verify_tethering_entitlement_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_2g_bluetooth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_rat_from_4g_to_2g_bluetooth</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 2G to Bluetooth Tethering</p>
<ol>
<li>DUT in 4G mode, idle.</li>
<li>DUT start bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Change provider RAT to 2G</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;eaa5b61b-f054-437f-ae82-8d80f6487785&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_rat_from_4g_to_2g_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 4G mode, idle.</span>
<span class="sd">    2. DUT start bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Change provider RAT to 2G</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">change_rat</span><span class="o">=</span><span class="n">RAT_2G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_rat_from_4g_to_3g_bluetooth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_rat_from_4g_to_3g_bluetooth</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Bluetooth Tethering test: 2G to Bluetooth Tethering</p>
<ol>
<li>DUT in 4G mode, idle.</li>
<li>DUT start bluetooth Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Change provider RAT to 3G</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4a106549-0bfa-4c8f-8e66-edec93fabadf&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_rat_from_4g_to_3g_bluetooth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bluetooth Tethering test: 2G to Bluetooth Tethering</span>

<span class="sd">    1. DUT in 4G mode, idle.</span>
<span class="sd">    2. DUT start bluetooth Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Change provider RAT to 3G</span>
<span class="sd">    6. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 3G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">verify_bluetooth_tethering_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">toggle_tethering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">toggle_bluetooth</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">toggle_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">change_rat</span><span class="o">=</span><span class="n">RAT_3G</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_3g_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_3g_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: 3G call during WiFi tethering
1. Start 3G to WiFi (2.4G) tethering.
2. Verify tethering.
3. Make outgoing CS call on tethering provider.
4. Verify tethering still works.
5. Make incoming CS call on tethering provider.
6. Verify tethering still works.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;19e0df23-6819-4c69-bfda-eea9cce802d8&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_3g_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: 3G call during WiFi tethering</span>
<span class="sd">    1. Start 3G to WiFi (2.4G) tethering.</span>
<span class="sd">    2. Verify tethering.</span>
<span class="sd">    3. Make outgoing CS call on tethering provider.</span>
<span class="sd">    4. Verify tethering still works.</span>
<span class="sd">    5. Make incoming CS call on tethering provider.</span>
<span class="sd">    6. Verify tethering still works.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">RAT_3G</span><span class="p">,</span> <span class="n">phone_setup_voice_3g</span><span class="p">,</span> <span class="n">is_phone_in_call_3g</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_csfb_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_csfb_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: CSFB call during WiFi tethering
1. Start LTE to WiFi (2.4G) tethering.
2. Verify tethering.
3. Make outgoing CSFB call on tethering provider.
4. Verify tethering still works.
5. Make incoming CSFB call on tethering provider.
6. Verify tethering still works.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;bcd430cc-6d33-47d1-825d-aae9f248addc&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_csfb_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: CSFB call during WiFi tethering</span>
<span class="sd">    1. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">    2. Verify tethering.</span>
<span class="sd">    3. Make outgoing CSFB call on tethering provider.</span>
<span class="sd">    4. Verify tethering still works.</span>
<span class="sd">    5. Make incoming CSFB call on tethering provider.</span>
<span class="sd">    6. Verify tethering still works.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">RAT_4G</span><span class="p">,</span> <span class="n">phone_setup_csfb</span><span class="p">,</span> <span class="n">is_phone_in_call_csfb</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_no_password" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_no_password</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Start WiFi tethering with no password</p>
<ol>
<li>DUT is idle.</li>
<li>DUT start 2.4G WiFi Tethering, with no WiFi password.</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4acd98b5-fdef-4736-969f-3fa953990a58&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_no_password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering with no password</span>

<span class="sd">    1. DUT is idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering, with no WiFi password.</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_password</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: start WiFi tethering with all kinds of passwords.</p>
<p>For each listed password, start WiFi tethering on DUT, client connect WiFi,
then tear down WiFi tethering.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if WiFi tethering succeed on all passwords.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9a5b5a34-b5cf-451d-94c4-8a64d456dfe5&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: start WiFi tethering with all kinds of passwords.</span>

<span class="sd">    For each listed password, start WiFi tethering on DUT, client connect WiFi,</span>
<span class="sd">    then tear down WiFi tethering.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if WiFi tethering succeed on all passwords.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Setup Failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">password_list</span> <span class="o">=</span> <span class="n">TETHERING_SPECIAL_PASSWORD_LIST</span>
    <span class="n">fail_list</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">password</span> <span class="ow">in</span> <span class="n">password_list</span><span class="p">:</span>
        <span class="n">ssid</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SSID: &lt;</span><span class="si">{}</span><span class="s2">&gt;, Password: &lt;</span><span class="si">{}</span><span class="s2">&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_start_wifi_tethering_connect_teardown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                      <span class="n">ssid</span><span class="p">,</span>
                                                      <span class="n">password</span><span class="p">):</span>
            <span class="n">fail_list</span><span class="p">[</span><span class="n">ssid</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fail_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed cases: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fail_list</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_password_escaping_characters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_password_escaping_characters</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: password have escaping characters.
1. Set password have escaping characters.
    e.g.: '"DQ=/{Yqq;M=(^_3HzRvhOiL8S%`]w&amp;l&lt;Qp8qH)bs&lt;4E9v_q=HLr^)}w$blA0Kg'
2. Start LTE to WiFi (2.4G) tethering.
3. Verify tethering.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;320326da-bf32-444d-81f9-f781c55dbc99&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_password_escaping_characters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: password have escaping characters.</span>
<span class="sd">    1. Set password have escaping characters.</span>
<span class="sd">        e.g.: &#39;&quot;DQ=/{Yqq;M=(^_3HzRvhOiL8S%`]w&amp;l&lt;Qp8qH)bs&lt;4E9v_q=HLr^)}w$blA0Kg&#39;</span>
<span class="sd">    2. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">    3. Verify tethering.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">password</span> <span class="o">=</span> <span class="n">TETHERING_PASSWORD_HAS_ESCAPE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting WiFi Tethering test with password: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">password</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
        <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_reboot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_reboot</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Start WiFi tethering then Reboot device</p>
<ol>
<li>DUT is idle.</li>
<li>DUT start 2.4G WiFi Tethering.</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Reboot DUT</li>
<li>After DUT reboot, verify tethering is stopped.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;86ad1680-bfb8-457e-8b4d-23321cb3f223&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering then Reboot device</span>

<span class="sd">    1. DUT is idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering.</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Reboot DUT</span>
<span class="sd">    6. After DUT reboot, verify tethering is stopped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_wifi_tethering_when_reboot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                 <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_screen_off_enable_doze_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_screen_off_enable_doze_mode</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



<details class="wifi-tethering-test" open>
  <summary>Start WiFi tethering, then turn off DUT's screen,</summary>
  <p>then enable doze mode, verify internet connection.</p>
</details>      <ol>
<li>Start WiFi tethering on DUT.</li>
<li>PhoneB disable data, and connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Turn off DUT's screen. Wait for 1 minute and
    verify Internet access on Client PhoneB.</li>
<li>Enable doze mode on DUT. Wait for 1 minute and
    verify Internet access on Client PhoneB.</li>
<li>Disable doze mode and turn off wifi tethering on DUT.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;89a849ef-e2ed-4bf2-ac31-81d34aba672a&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_screen_off_enable_doze_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Start WiFi tethering, then turn off DUT&#39;s screen,</span>
<span class="sd">        then enable doze mode, verify internet connection.</span>

<span class="sd">    1. Start WiFi tethering on DUT.</span>
<span class="sd">    2. PhoneB disable data, and connect to DUT&#39;s softAP</span>
<span class="sd">    3. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    4. Turn off DUT&#39;s screen. Wait for 1 minute and</span>
<span class="sd">        verify Internet access on Client PhoneB.</span>
<span class="sd">    5. Enable doze mode on DUT. Wait for 1 minute and</span>
<span class="sd">        verify Internet access on Client PhoneB.</span>
<span class="sd">    6. Disable doze mode and turn off wifi tethering on DUT.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                   <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                                   <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                                   <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                   <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection_in_doze_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                      <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_ssid</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: start WiFi tethering with all kinds of SSIDs.</p>
<p>For each listed SSID, start WiFi tethering on DUT, client connect WiFi,
then tear down WiFi tethering.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if WiFi tethering succeed on all SSIDs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;617c7e71-f166-465f-bfd3-b5a3a40cc0d4&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_ssid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: start WiFi tethering with all kinds of SSIDs.</span>

<span class="sd">    For each listed SSID, start WiFi tethering on DUT, client connect WiFi,</span>
<span class="sd">    then tear down WiFi tethering.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if WiFi tethering succeed on all SSIDs.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Setup Failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">ssid_list</span> <span class="o">=</span> <span class="n">TETHERING_SPECIAL_SSID_LIST</span>
    <span class="n">fail_list</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">ssid</span> <span class="ow">in</span> <span class="n">ssid_list</span><span class="p">:</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SSID: &lt;</span><span class="si">{}</span><span class="s2">&gt;, Password: &lt;</span><span class="si">{}</span><span class="s2">&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_start_wifi_tethering_connect_teardown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                      <span class="n">ssid</span><span class="p">,</span>
                                                      <span class="n">password</span><span class="p">):</span>
            <span class="n">fail_list</span><span class="p">[</span><span class="n">ssid</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fail_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed cases: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fail_list</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_ssid_quotes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_ssid_quotes</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: SSID name have quotes.
1. Set SSID name have double quotes.
2. Start LTE to WiFi (2.4G) tethering.
3. Verify tethering.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;54e85aed-09e3-42e2-bb33-bca1005d93ab&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_ssid_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: SSID name have quotes.</span>
<span class="sd">    1. Set SSID name have double quotes.</span>
<span class="sd">    2. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">    3. Verify tethering.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ssid</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting WiFi Tethering test with ssid: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ssid</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">test_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                               <span class="kc">None</span><span class="p">,</span>
                               <span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                               <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                               <span class="n">check_iteration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                               <span class="n">ssid</span><span class="o">=</span><span class="n">ssid</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_tethering_wifi_volte_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_tethering_wifi_volte_call</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: VoLTE call during WiFi tethering
1. Start LTE to WiFi (2.4G) tethering.
2. Verify tethering.
3. Make outgoing VoLTE call on tethering provider.
4. Verify tethering still works.
5. Make incoming VoLTE call on tethering provider.
6. Verify tethering still works.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;216bdb8c-edbf-4ff8-8750-a0861ab44df6&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_tethering_wifi_volte_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: VoLTE call during WiFi tethering</span>
<span class="sd">    1. Start LTE to WiFi (2.4G) tethering.</span>
<span class="sd">    2. Verify tethering.</span>
<span class="sd">    3. Make outgoing VoLTE call on tethering provider.</span>
<span class="sd">    4. Verify tethering still works.</span>
<span class="sd">    5. Make incoming VoLTE call on tethering provider.</span>
<span class="sd">    6. Verify tethering still works.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">test_tethering_wifi_and_voice_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
        <span class="n">RAT_4G</span><span class="p">,</span> <span class="n">phone_setup_volte</span><span class="p">,</span> <span class="n">is_phone_in_call_volte</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_apm_during_active_wifi_tethering" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_toggle_apm_during_active_wifi_tethering</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Toggle APM during active WiFi Tethering</p>
<ol>
<li>DUT in LTE mode, idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>DUT toggle APM on, verify WiFi tethering stopped, PhoneB lost WiFi connection.</li>
<li>DUT toggle APM off, verify PhoneA have cellular data and Internet connection.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;12a6c910-fa96-4d9b-99a5-8391fea33732&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_toggle_apm_during_active_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Toggle APM during active WiFi Tethering</span>

<span class="sd">    1. DUT in LTE mode, idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. DUT toggle APM on, verify WiFi tethering stopped, PhoneB lost WiFi connection.</span>
<span class="sd">    6. DUT toggle APM off, verify PhoneA have cellular data and Internet connection.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="n">RAT_4G</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify 4G Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ssid</span> <span class="o">=</span> <span class="n">rand_ascii_str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">ssid</span><span class="o">=</span><span class="n">ssid</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_toggle_apm_tethering_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                               <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                               <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span>
                                                               <span class="n">ssid</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_toggle_data_during_active_wifi_tethering" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_toggle_data_during_active_wifi_tethering</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>WiFi Tethering test: Toggle Data during active WiFi Tethering</p>
<ol>
<li>DUT data connection is on and idle.</li>
<li>DUT start 2.4G WiFi Tethering</li>
<li>PhoneB disable data, connect to DUT's softAP</li>
<li>Verify Internet access on DUT and PhoneB</li>
<li>Disable Data on DUT, verify PhoneB still connected to WiFi, but no Internet access.</li>
<li>Enable Data on DUT, verify PhoneB still connected to WiFi and have Internet access.</li>
</ol>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;b879ceb2-1b80-4762-93f9-afef4d688c28&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_toggle_data_during_active_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;WiFi Tethering test: Toggle Data during active WiFi Tethering</span>

<span class="sd">    1. DUT data connection is on and idle.</span>
<span class="sd">    2. DUT start 2.4G WiFi Tethering</span>
<span class="sd">    3. PhoneB disable data, connect to DUT&#39;s softAP</span>
<span class="sd">    4. Verify Internet access on DUT and PhoneB</span>
<span class="sd">    5. Disable Data on DUT, verify PhoneB still connected to WiFi, but no Internet access.</span>
<span class="sd">    6. Enable Data on DUT, verify PhoneB still connected to WiFi and have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_toggle_data_during_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wcdma_multi_bearer</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test WCDMA data connection before call and in call.</p>
<p>Turn off airplane mode, disable WiFi, enable Cellular Data.
Make sure phone in WCDMA, verify Internet.
Initiate a voice call. verify Internet.
Disable Cellular Data, verify Internet is inaccessible.
Enable Cellular Data, verify Internet.
Hangup Voice Call, verify Internet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;5c9cb076-0c26-4517-95dc-2ec4974e8ce3&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wcdma_multi_bearer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test WCDMA data connection before call and in call.</span>

<span class="sd">    Turn off airplane mode, disable WiFi, enable Cellular Data.</span>
<span class="sd">    Make sure phone in WCDMA, verify Internet.</span>
<span class="sd">    Initiate a voice call. verify Internet.</span>
<span class="sd">    Disable Cellular Data, verify Internet is inaccessible.</span>
<span class="sd">    Enable Cellular Data, verify Internet.</span>
<span class="sd">    Hangup Voice Call, verify Internet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">test_data_connectivity_multi_bearer</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">,</span> <span class="s1">&#39;3g&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_multi_bearer_stress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wcdma_multi_bearer_stress</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Stress Test WCDMA data connection before call and in call.</p>
<p>This is a stress test for "test_wcdma_multi_bearer".
Default MINIMUM_SUCCESS_RATE is set to 95%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;111de471-559a-4bc3-9d3e-de18f098c162&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wcdma_multi_bearer_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stress Test WCDMA data connection before call and in call.</span>

<span class="sd">    This is a stress test for &quot;test_wcdma_multi_bearer&quot;.</span>
<span class="sd">    Default MINIMUM_SUCCESS_RATE is set to 95%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True stress pass rate is higher than MINIMUM_SUCCESS_RATE.</span>
<span class="sd">        False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">MINIMUM_SUCCESS_RATE</span> <span class="o">=</span> <span class="mf">.95</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">fail_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>

        <span class="n">ensure_phones_default_state</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_wcdma_multi_bearer</span><span class="p">():</span>
            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fail_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">result_str</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Iteration </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">. Current: </span><span class="si">{}</span><span class="s2"> / </span><span class="si">{}</span><span class="s2"> passed.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="p">,</span> <span class="n">result_str</span><span class="p">,</span> <span class="n">success_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stress_test_number</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Final Count - Success: </span><span class="si">{}</span><span class="s2">, Failure: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">success_count</span><span class="p">,</span> <span class="n">fail_count</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span><span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">))))</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">/</span> <span class="p">(</span>
            <span class="n">success_count</span> <span class="o">+</span> <span class="n">fail_count</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MINIMUM_SUCCESS_RATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wcdma_wifi_switching" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wcdma_wifi_switching</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Test data connection network switching when phone camped on WCDMA.</p>
<p>Ensure phone is camped on WCDMA
Ensure WiFi can connect to live network,
Airplane mode is off, data connection is on, WiFi is on.
Turn off WiFi, verify data is on cell and browse to google.com is OK.
Turn on WiFi, verify data is on WiFi and browse to google.com is OK.
Turn off WiFi, verify data is on cell and browse to google.com is OK.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;8a836cf1-600b-4cf3-abfe-2e3da5c11396&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wcdma_wifi_switching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test data connection network switching when phone camped on WCDMA.</span>

<span class="sd">    Ensure phone is camped on WCDMA</span>
<span class="sd">    Ensure WiFi can connect to live network,</span>
<span class="sd">    Airplane mode is off, data connection is on, WiFi is on.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>
<span class="sd">    Turn on WiFi, verify data is on WiFi and browse to google.com is OK.</span>
<span class="sd">    Turn off WiFi, verify data is on cell and browse to google.com is OK.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">wifi_cell_switching</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GEN_3G</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_browsing_for_single_phone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_browsing_for_single_phone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Browsing websites on wifi.</p>
<p>Ensure phone attach, data on, WiFi On, WiFi Connected.
Verify 5 websites on WiFi.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if pass; False if fail.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0679214b-9002-476d-83a7-3532b3cca209&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_browsing_for_single_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Browsing websites on wifi.</span>

<span class="sd">    Ensure phone attach, data on, WiFi On, WiFi Connected.</span>
<span class="sd">    Verify 5 websites on WiFi.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pass; False if fail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_wifi_connected</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">):</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi connect fail.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Attempt </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test_data_browsing_success_using_sl4a</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">):</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test PASS in iteration </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">WAIT_TIME_ANDROID_STATE_SETTLING</span><span class="p">)</span>
    <span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data Browsing test FAIL for all 3 iterations&quot;</span><span class="p">)</span>
    <span class="n">wifi_toggle_state</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_2g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_connect_disconnect_2g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Perform multiple connects and disconnects from WiFi and verify that
    data switches between WiFi and Cell.</p>
<p>Steps:
1. DUT Cellular Data is on 2G. Reset Wifi on DUT
2. Connect DUT to a WiFi AP
3. Repeat steps 1-2, alternately disconnecting and disabling wifi</p>
<p>Expected Results:
1. Verify Data on Cell
2. Verify Data on Wifi</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;0f095ca4-ce05-458f-9670-49a69f8c8270&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_2g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">        data switches between WiFi and Cell.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. DUT Cellular Data is on 2G. Reset Wifi on DUT</span>
<span class="sd">    2. Connect DUT to a WiFi AP</span>
<span class="sd">    3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data on Cell</span>
<span class="sd">    2. Verify Data on Wifi</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_3g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_connect_disconnect_3g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Perform multiple connects and disconnects from WiFi and verify that
    data switches between WiFi and Cell.</p>
<p>Steps:
1. DUT Cellular Data is on 3G. Reset Wifi on DUT
2. Connect DUT to a WiFi AP
3. Repeat steps 1-2, alternately disconnecting and disabling wifi</p>
<p>Expected Results:
1. Verify Data on Cell
2. Verify Data on Wifi</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;09893b1f-a4a2-49d3-8027-c2c91cb8742e&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_3g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">        data switches between WiFi and Cell.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. DUT Cellular Data is on 3G. Reset Wifi on DUT</span>
<span class="sd">    2. Connect DUT to a WiFi AP</span>
<span class="sd">    3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data on Cell</span>
<span class="sd">    2. Verify Data on Wifi</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_3G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_connect_disconnect_4g" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_connect_disconnect_4g</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Perform multiple connects and disconnects from WiFi and verify that
    data switches between WiFi and Cell.</p>
<p>Steps:
1. DUT Cellular Data is on 4G. Reset Wifi on DUT
2. Connect DUT to a WiFi AP
3. Repeat steps 1-2, alternately disconnecting and disabling wifi</p>
<p>Expected Results:
1. Verify Data on Cell
2. Verify Data on Wifi</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;9b8e92da-0ae1-472c-a72a-f6427e5405ce&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_connect_disconnect_4g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform multiple connects and disconnects from WiFi and verify that</span>
<span class="sd">        data switches between WiFi and Cell.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. DUT Cellular Data is on 4G. Reset Wifi on DUT</span>
<span class="sd">    2. Connect DUT to a WiFi AP</span>
<span class="sd">    3. Repeat steps 1-2, alternately disconnecting and disabling wifi</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. Verify Data on Cell</span>
<span class="sd">    2. Verify Data on Wifi</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">android_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_devices</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ensure_network_generation_for_subscription</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="n">ad</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(),</span>
            <span class="n">GEN_4G</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">,</span> <span class="n">NETWORK_SERVICE_DATA</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Device </span><span class="si">{}</span><span class="s2"> failed to reselect in </span><span class="si">{}</span><span class="s2">s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">ad</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="n">MAX_WAIT_TIME_NW_SELECTION</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">test_wifi_connect_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">ad</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_ssid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wifi_network_pass</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Tethering enabled + voice call</p>
<p>Steps:
1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on <Data SIM>
2. PhoneB connect to DUT's softAP
3. DUT make a mo phone call on <Voice SIM>
4. DUT end phone call.</p>
<p>Expected Results:
1. DUT is able to start WiFi tethering.
2. PhoneB connected to DUT's softAP and able to browse Internet.
3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,
    PhoneB still connected to DUT's softAP, but no data available.
4. DUT data resumes, and PhoneB have Internet access.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;4d7a68c6-5eae-4242-a6e6-668f830caec3&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_tethering_enabled_add_mo_voice_call_2g_dsds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tethering enabled + voice call</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on &lt;Data SIM&gt;</span>
<span class="sd">    2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">    3. DUT make a mo phone call on &lt;Voice SIM&gt;</span>
<span class="sd">    4. DUT end phone call.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. DUT is able to start WiFi tethering.</span>
<span class="sd">    2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">    3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,</span>
<span class="sd">        PhoneB still connected to DUT&#39;s softAP, but no data available.</span>
<span class="sd">    4. DUT data resumes, and PhoneB have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_wifi_tethering_enabled_add_voice_call</span><span class="p">(</span>
        <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_ORIGINATED</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Tethering enabled + voice call</p>
<p>Steps:
1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on <Data SIM>
2. PhoneB connect to DUT's softAP
3. DUT make a mt phone call on <Voice SIM>
4. DUT end phone call.</p>
<p>Expected Results:
1. DUT is able to start WiFi tethering.
2. PhoneB connected to DUT's softAP and able to browse Internet.
3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,
    PhoneB still connected to DUT's softAP, but no data available.
4. DUT data resumes, and PhoneB have Internet access.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;de720069-a46c-4a6f-ae80-60b9349c8528&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_tethering_enabled_add_mt_voice_call_2g_dsds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tethering enabled + voice call</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. DUT is DSDS device, Data on 2G. Start WiFi Tethering on &lt;Data SIM&gt;</span>
<span class="sd">    2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">    3. DUT make a mt phone call on &lt;Voice SIM&gt;</span>
<span class="sd">    4. DUT end phone call.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. DUT is able to start WiFi tethering.</span>
<span class="sd">    2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">    3. DUT WiFi tethering is still on. Phone call works OK. Data is suspend,</span>
<span class="sd">        PhoneB still connected to DUT&#39;s softAP, but no data available.</span>
<span class="sd">    4. DUT data resumes, and PhoneB have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test_wifi_tethering_enabled_add_voice_call</span><span class="p">(</span>
        <span class="n">GEN_2G</span><span class="p">,</span> <span class="n">DIRECTION_MOBILE_TERMINATED</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tests.google.tel.live.TelLiveDataTest.TelLiveDataTest.test_wifi_tethering_msim_switch_data_sim" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_wifi_tethering_msim_switch_data_sim</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Tethering enabled + switch data SIM.</p>
<p>Steps:
1. Start WiFi Tethering on <Default Data SIM>
2. PhoneB connect to DUT's softAP
3. DUT change Default Data SIM.</p>
<p>Expected Results:
1. DUT is able to start WiFi tethering.
2. PhoneB connected to DUT's softAP and able to browse Internet.
3. DUT Data changed to 2nd SIM, WiFi tethering should continues,
    PhoneB should have Internet access.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if success.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>False if failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tests/google/tel/live/TelLiveDataTest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@test_tracker_info</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;fad169c0-8ae6-45d2-98ba-3fb60466ff0b&quot;</span><span class="p">)</span>
<span class="nd">@TelephonyBaseTest</span><span class="o">.</span><span class="n">tel_test_wrap</span>
<span class="k">def</span> <span class="nf">test_wifi_tethering_msim_switch_data_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tethering enabled + switch data SIM.</span>

<span class="sd">    Steps:</span>
<span class="sd">    1. Start WiFi Tethering on &lt;Default Data SIM&gt;</span>
<span class="sd">    2. PhoneB connect to DUT&#39;s softAP</span>
<span class="sd">    3. DUT change Default Data SIM.</span>

<span class="sd">    Expected Results:</span>
<span class="sd">    1. DUT is able to start WiFi tethering.</span>
<span class="sd">    2. PhoneB connected to DUT&#39;s softAP and able to browse Internet.</span>
<span class="sd">    3. DUT Data changed to 2nd SIM, WiFi tethering should continues,</span>
<span class="sd">        PhoneB should have Internet access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if success.</span>
<span class="sd">        False if failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_data_sub_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">subscriptionGetDefaultDataSubId</span><span class="p">(</span>
    <span class="p">)</span>
    <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">get_slot_index_from_subid</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="n">current_data_sub_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current Data is on subId: </span><span class="si">%s</span><span class="s2">, SIM slot: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                           <span class="n">current_data_sub_id</span><span class="p">,</span> <span class="n">current_sim_slot_index</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">test_setup_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Verify Internet access failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Start WiFi Tethering</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wifi_tethering_setup_teardown</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                <span class="n">ap_band</span><span class="o">=</span><span class="n">WIFI_CONFIG_APBAND_2G</span><span class="p">,</span>
                <span class="n">check_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">check_iteration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">do_cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;WiFi Tethering failed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">next_sim_slot_index</span> <span class="o">=</span> \
                <span class="p">{</span><span class="n">SIM1_SLOT_INDEX</span> <span class="p">:</span> <span class="n">SIM2_SLOT_INDEX</span><span class="p">,</span>
                 <span class="n">SIM2_SLOT_INDEX</span> <span class="p">:</span> <span class="n">SIM1_SLOT_INDEX</span><span class="p">}[</span><span class="n">current_sim_slot_index</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Change Data to SIM slot: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">next_sim_slot_index</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">change_data_sim_and_verify_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                                                   <span class="n">next_sim_slot_index</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to change data SIM.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">current_sim_slot_index</span> <span class="o">=</span> <span class="n">next_sim_slot_index</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_internet_connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Client should have Internet Access.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">telephonyToggleDataConnection</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">wifi_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">droid</span><span class="o">.</span><span class="n">wifiIsApEnabled</span><span class="p">():</span>
            <span class="n">stop_wifi_tethering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>